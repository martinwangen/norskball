import{d as C,a0 as T,r as v,c,R as q,S as l,U as t,$ as r,V as m,Y as N,f as o,a1 as P,X as u,Z as R,q as B,W as V,a2 as S}from"./index-B7v1RYUg.js";import{Q as p}from"./QTd-CASlP5D4.js";import{Q as I}from"./QCheckbox-C2a6ul9B.js";import{Q as M}from"./QTable-C1AXjZXs.js";import{Q as z}from"./QPage-IIKP4Iz1.js";import{t as L}from"./teamService-CcnTD89G.js";import{_ as $}from"./_plugin-vue_export-helper-ySNUC0R3.js";import"./use-prevent-scroll-xq83Gcxt.js";import"./use-dark-CK9_zAHR.js";import"./format-GpeEn1bg.js";import"./scroll-DfyG7l7i.js";import"./QList-C0Zb_h9T.js";import"./private.use-form-tFUGZF8U.js";const j={class:"q-pa-md"},A={key:0,class:"flex justify-center q-pa-xl"},D={key:1,class:"text-negative q-pa-md"},E={key:2},U={class:"row items-center"},W=["src","alt"],X={key:0,class:"full-width text-center q-pa-sm"},Y=C({__name:"TeamsPage",setup(Z){const g=T(),s=v(!1),d=v(null),{teams:n,loading:_,refetch:h}=L.useTeams(16),w=c(()=>{var e;return((e=n.value)==null?void 0:e.teams.nodes)||[]}),f=c(()=>{var e;return((e=n.value)==null?void 0:e.teams.pageInfo.hasNextPage)||!1}),x=c(()=>{var e;return((e=n.value)==null?void 0:e.teams.totalCount)||0}),y=[{name:"team",label:"Team",field:"name",align:"left",sortable:!0},{name:"league",label:"League",field:"league",align:"left",sortable:!0}],b=async()=>{var e;if(!(!f.value||s.value)){s.value=!0;try{await h({first:20,after:(e=n.value)==null?void 0:e.teams.pageInfo.endCursor})}finally{s.value=!1}}},Q=e=>e>=7?"positive":e>=6?"warning":"negative",k=(e,i)=>{g.push(`/teams/${i.id}`)};return(e,i)=>(l(),q(z,{padding:""},{default:t(()=>[r("div",j,[i[0]||(i[0]=r("div",{class:"text-h4 q-mb-md"},"Teams",-1)),N(_)?(l(),m("div",A,[o(P,{color:"primary",size:"3em"})])):d.value?(l(),m("div",D,u(d.value),1)):(l(),m("div",E,[o(M,{rows:w.value,columns:y,loading:s.value,"row-key":"id",pagination:{rowsPerPage:16,rowsNumber:x.value},onRowClick:k},{"body-cell-team":t(a=>[o(p,{props:a},{default:t(()=>[r("div",U,[o(S,{hight:"32px",class:"q-mr-sm"},{default:t(()=>[r("img",{src:a.row.logo,alt:a.row.name},null,8,W)]),_:2},1024),r("div",null,u(a.row.name),1)])]),_:2},1032,["props"])]),"body-cell-avgRating":t(a=>[o(p,{props:a},{default:t(()=>[o(I,{color:Q(a.value),"text-color":"white",size:"sm"},{default:t(()=>[V(u(a.value),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),bottom:t(()=>[f.value?(l(),m("div",X,[o(B,{color:"primary",label:"Load More",loading:s.value,onClick:b},null,8,["loading"])])):R("",!0)]),_:1},8,["rows","loading","pagination"])]))])]),_:1}))}}),ne=$(Y,[["__scopeId","data-v-4e4fc883"]]);export{ne as default};
