import{d as Y,a3 as F,r as d,c as M,o as E,R as y,S as i,U as t,$ as o,f as e,V as f,q as b,a1 as U,X as r,Y as P,W as c,Q as I,Z as g}from"./index-B7v1RYUg.js";import{Q as V}from"./QBadge-Ch1nfKvL.js";import{Q as $,d as L}from"./date-D8OLxcvT.js";import{Q as B}from"./QRating-Cl0kz1ym.js";import{Q as D,a as w}from"./QCard-BQx1avgi.js";import{Q as O,a as h,b as Q,c as m}from"./QList-C0Zb_h9T.js";import{Q as j}from"./QPage-IIKP4Iz1.js";import{u as A,g as R,a as N}from"./players-7th5bTUs.js";import{t as W}from"./teamService-CcnTD89G.js";import{T as X}from"./TeamLogo-B5DOOSem.js";import{u as Z}from"./use-quasar-ByH9I7ux.js";import{_ as G}from"./_plugin-vue_export-helper-ySNUC0R3.js";import"./format-GpeEn1bg.js";import"./private.use-form-tFUGZF8U.js";import"./use-dark-CK9_zAHR.js";import"./graphql-BhlZu-4f.js";const H={class:"q-pa-md"},J={key:0,class:"flex justify-center q-pa-xl"},K={key:1,class:"text-negative q-pa-md"},ee={key:2,class:"player-detail"},te={class:"row q-col-gutter-lg"},ae={class:"col-xs-12 col-md-4 flex flex-center"},le={class:"absolute-full flex flex-center bg-grey-3"},oe={class:"absolute-bottom text-subtitle2 text-center bg-dark q-pa-xs"},se={class:"text-h5"},re={class:"text-subtitle1"},ie={class:"text-subtitle1 q-mt-xs"},ne={class:"col-xs-12 col-md-8"},ue={class:"text-h3 q-mt-none"},de={class:"text-subtitle1 q-mb-md"},ce={class:"q-mt-lg"},me={class:"row items-center"},fe={class:"col-12 col-md-6"},ve={key:0,class:"text-subtitle1 q-mt-sm"},pe={class:"col-12 col-md-6 q-mt-md q-mt-md-none"},_e={key:3,class:"text-center q-pa-xl"},ye=Y({__name:"PlayerDetailPage",setup(ge){const C=F(),a=d(null),v=d(null),p=d(!0),x=d(null),n=d(0),_=d(0),q=Z(),S=A(),T=u=>{if(!u)return"N/A";try{return L.formatDate(u,"MMMM D, YYYY")}catch{return u}},z=()=>{a.value&&n.value>0&&(_.value=n.value,q.notify({type:"positive",message:`Thank you for rating ${R(a.value)}!`}),n.value=0)},k=M(()=>a.value?R(a.value):"");return E(async()=>{const u=C.params.id;if(!u){x.value="Player ID is required",p.value=!1;return}try{p.value=!0;const l=await S.fetchPlayerById(u);if(a.value=l,!a.value)throw new Error("Player not found");if(a.value.teamId)try{const{team:s}=W.useTeam(a.value.teamId);v.value=s.value}catch(s){console.error("Error loading team:",s)}}catch(l){console.error("Error fetching player:",l),q.notify({color:"negative",message:"Failed to load player details",icon:"error"})}finally{p.value=!1}}),(u,l)=>(i(),y(j,{padding:""},{default:t(()=>[o("div",H,[e(b,{icon:"arrow_back",label:"Back to Players",flat:"",color:"primary",to:"/players",class:"q-mb-md"}),p.value?(i(),f("div",J,[e(U,{color:"primary",size:"3em"})])):x.value?(i(),f("div",K,r(x.value),1)):a.value?(i(),f("div",ee,[o("div",te,[o("div",ae,[e(D,{flat:"",bordered:"",class:"player-card"},{default:t(()=>[e($,{src:a.value.imageUrl||"https://via.placeholder.com/300?text=No+Photo",style:{height:"300px"},fit:"contain",class:"player-photo"},{error:t(()=>[o("div",le,[e(I,{name:"person",size:"4em",color:"grey-7"})])]),default:t(()=>[o("div",oe,[e(V,{color:P(N)(a.value.position),class:"q-mr-xs"},{default:t(()=>[c(r(a.value.position),1)]),_:1},8,["color"])])]),_:1},8,["src"]),e(w,{class:"text-center"},{default:t(()=>[o("div",se,r(k.value),1),o("div",re,r(a.value.nationality),1),e(B,{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=s=>_.value=s),size:"1.5em",max:10,color:"amber",readonly:"",class:"q-mt-sm"},null,8,["modelValue"]),o("div",ie," Rating: "+r(_.value.toFixed(1)),1)]),_:1})]),_:1})]),o("div",ne,[o("h1",ue,r(k.value),1),o("div",de,r(a.value.nationality),1),e(O,{bordered:"",separator:""},{default:t(()=>[a.value.dateOfBirth?(i(),y(h,{key:0},{default:t(()=>[e(Q,null,{default:t(()=>[e(m,{caption:""},{default:t(()=>l[2]||(l[2]=[c("Birth Date")])),_:1}),e(m,null,{default:t(()=>[c(r(T(a.value.dateOfBirth)),1)]),_:1})]),_:1})]),_:1})):g("",!0),e(h,null,{default:t(()=>[e(Q,null,{default:t(()=>[e(m,{caption:""},{default:t(()=>l[3]||(l[3]=[c("Position")])),_:1}),e(m,null,{default:t(()=>[e(V,{color:P(N)(a.value.position)},{default:t(()=>[c(r(a.value.position),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),a.value.teamId?(i(),y(h,{key:1},{default:t(()=>[e(Q,null,{default:t(()=>[e(m,{caption:""},{default:t(()=>l[4]||(l[4]=[c("Team")])),_:1}),e(m,{class:"row items-center"},{default:t(()=>{var s;return[v.value?(i(),y(X,{key:0,"team-id":v.value.id,size:"40"},null,8,["team-id"])):g("",!0),e(b,{flat:"","no-caps":"",color:"primary",to:`/teams/${a.value.teamId}`,label:((s=v.value)==null?void 0:s.name)||"View Team"},null,8,["to","label"])]}),_:1})]),_:1})]),_:1})):g("",!0)]),_:1})])]),o("div",ce,[l[5]||(l[5]=o("h2",{class:"text-h5"},"Rate Player",-1)),e(D,{flat:"",bordered:""},{default:t(()=>[e(w,null,{default:t(()=>[o("div",me,[o("div",fe,[e(B,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=s=>n.value=s),size:"2em",max:10,color:"amber",icon:"star_border","icon-selected":"star"},null,8,["modelValue"]),n.value>0?(i(),f("div",ve," Your rating: "+r(n.value.toFixed(1)),1)):g("",!0)]),o("div",pe,[e(b,{color:"primary",label:"Submit Rating",disable:n.value===0,onClick:z},null,8,["disable"])])])]),_:1})]),_:1})])])):(i(),f("div",_e,[e(I,{name:"sports_soccer",size:"4em",color:"grey-7"}),l[6]||(l[6]=o("p",{class:"text-h6 text-grey-7"},"Player not found",-1))]))])]),_:1}))}}),Te=G(ye,[["__scopeId","data-v-dfb4207f"]]);export{Te as default};
