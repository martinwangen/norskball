import{l as Me,at as Ft,g as de,au as It,c as i,N as il,h as s,Q as Se,aQ as rl,u as ce,$ as sl,r as z,w as G,L as fe,aR as Rt,aK as cl,ai as zt,aj as Et,m as Fe,H as dl,av as Ot,a as fl,al as vl,o as Mt,ah as ml,J as ve,a2 as gl,t as Ae,q as et,aS as hl,E as bl,aT as Ee,ag as Sl,aU as yl,z as Ve,am as pl,an as Tt,aV as _e}from"./index-DgHSpM2q.js";import{q as $t,m as Cl,x as xl,u as wl,b as ql,c as kl,e as Vl,f as _l,j as Al,i as Bl,n as Fl,o as Il,y as Rl,z as zl,A as yt,B as pt,Q as El}from"./use-prevent-scroll-BBqY-Abu.js";import{u as lt,a as ot}from"./use-dark-Dstogxdr.js";import{u as Ol,b as Ml,c as Tl,a as $l}from"./QList-D-P18m4f.js";import{u as Ht,a as Hl,c as Ll}from"./private.use-form-rV216OXi.js";import{n as Ct}from"./format-hlGAdIUH.js";const Dl={xs:8,sm:10,md:14,lg:20,xl:24},Pl=Me({name:"QChip",props:{...lt,...Ft,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:o,emit:l}){const{proxy:{$q:a}}=de(),C=ot(e,a),u=It(e,Dl),v=i(()=>e.selected===!0||e.icon!==void 0),h=i(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),b=i(()=>e.iconRemove||a.iconSet.chip.remove),A=i(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),m=i(()=>{const S=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(A.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(C.value===!0?" q-chip--dark q-dark":"")}),x=i(()=>{const S=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},$={...S,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:S,remove:$}});function w(S){S.keyCode===13&&k(S)}function k(S){e.disable||(l("update:selected",!e.selected),l("click",S))}function q(S){(S.keyCode===void 0||S.keyCode===13)&&(ce(S),e.disable===!1&&(l("update:modelValue",!1),l("remove")))}function T(){const S=[];A.value===!0&&S.push(s("div",{class:"q-focus-helper"})),v.value===!0&&S.push(s(Se,{class:"q-chip__icon q-chip__icon--left",name:h.value}));const $=e.label!==void 0?[s("div",{class:"ellipsis"},[e.label])]:void 0;return S.push(s("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},rl(o.default,$))),e.iconRight&&S.push(s(Se,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&S.push(s(Se,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:b.value,...x.value.remove,onClick:q,onKeyup:q})),S}return()=>{if(e.modelValue===!1)return;const S={class:m.value,style:u.value};return A.value===!0&&Object.assign(S,x.value.chip,{onClick:k,onKeyup:w}),il("div",S,T(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[sl,e.ripple]])}}});let Qe=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const o=document.createElement("div");Object.assign(o.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(o),e.scrollLeft=-1e3,Qe=e.scrollLeft>=0,e.remove()}const ie=1e3,jl=["start","center","end","start-force","center-force","end-force"],Lt=Array.prototype.filter,Kl=window.getComputedStyle(document.body).overflowAnchor===void 0?dl:function(e,o){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const l=e.children||[];Lt.call(l,C=>C.dataset&&C.dataset.qVsAnchor!==void 0).forEach(C=>{delete C.dataset.qVsAnchor});const a=l[o];a!=null&&a.dataset&&(a.dataset.qVsAnchor="")}))};function Be(e,o){return e+o}function Ze(e,o,l,a,C,u,v,h){const b=e===window?document.scrollingElement||document.documentElement:e,A=C===!0?"offsetWidth":"offsetHeight",m={scrollStart:0,scrollViewSize:-v-h,scrollMaxSize:0,offsetStart:-v,offsetEnd:-h};if(C===!0?(e===window?(m.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,m.scrollViewSize+=document.documentElement.clientWidth):(m.scrollStart=b.scrollLeft,m.scrollViewSize+=b.clientWidth),m.scrollMaxSize=b.scrollWidth,u===!0&&(m.scrollStart=(Qe===!0?m.scrollMaxSize-m.scrollViewSize:0)-m.scrollStart)):(e===window?(m.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,m.scrollViewSize+=document.documentElement.clientHeight):(m.scrollStart=b.scrollTop,m.scrollViewSize+=b.clientHeight),m.scrollMaxSize=b.scrollHeight),l!==null)for(let x=l.previousElementSibling;x!==null;x=x.previousElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetStart+=x[A]);if(a!==null)for(let x=a.nextElementSibling;x!==null;x=x.nextElementSibling)x.classList.contains("q-virtual-scroll--skip")===!1&&(m.offsetEnd+=x[A]);if(o!==e){const x=b.getBoundingClientRect(),w=o.getBoundingClientRect();C===!0?(m.offsetStart+=w.left-x.left,m.offsetEnd-=w.width):(m.offsetStart+=w.top-x.top,m.offsetEnd-=w.height),e!==window&&(m.offsetStart+=m.scrollStart),m.offsetEnd+=m.scrollMaxSize-m.offsetStart}return m}function xt(e,o,l,a){o==="end"&&(o=(e===window?document.body:e)[l===!0?"scrollWidth":"scrollHeight"]),e===window?l===!0?(a===!0&&(o=(Qe===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-o),window.scrollTo(o,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,o):l===!0?(a===!0&&(o=(Qe===!0?e.scrollWidth-e.offsetWidth:0)-o),e.scrollLeft=o):e.scrollTop=o}function Oe(e,o,l,a){if(l>=a)return 0;const C=o.length,u=Math.floor(l/ie),v=Math.floor((a-1)/ie)+1;let h=e.slice(u,v).reduce(Be,0);return l%ie!==0&&(h-=o.slice(u*ie,l).reduce(Be,0)),a%ie!==0&&a!==C&&(h-=o.slice(a,v*ie).reduce(Be,0)),h}const Dt={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Co=Object.keys(Dt),wt={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Dt};function Nl({virtualScrollLength:e,getVirtualScrollTarget:o,getVirtualScrollEl:l,virtualScrollItemSizeComputed:a}){const C=de(),{props:u,emit:v,proxy:h}=C,{$q:b}=h;let A,m,x,w=[],k;const q=z(0),T=z(0),S=z({}),$=z(null),Q=z(null),P=z(null),R=z({from:0,to:0}),Y=i(()=>u.tableColspan!==void 0?u.tableColspan:100);a===void 0&&(a=i(()=>u.virtualScrollItemSize));const F=i(()=>a.value+";"+u.virtualScrollHorizontal),E=i(()=>F.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);G(E,()=>{W()}),G(F,M);function M(){re(m,!0)}function te(n){re(n===void 0?m:n)}function J(n,c){const B=o();if(B==null||B.nodeType===8)return;const O=Ze(B,l(),$.value,Q.value,u.virtualScrollHorizontal,b.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);x!==O.scrollViewSize&&W(O.scrollViewSize),p(B,O,Math.min(e.value-1,Math.max(0,parseInt(n,10)||0)),0,jl.indexOf(c)!==-1?c:m!==-1&&n>m?"end":"start")}function le(){const n=o();if(n==null||n.nodeType===8)return;const c=Ze(n,l(),$.value,Q.value,u.virtualScrollHorizontal,b.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),B=e.value-1,O=c.scrollMaxSize-c.offsetStart-c.offsetEnd-T.value;if(A===c.scrollStart)return;if(c.scrollMaxSize<=0){p(n,c,0,0);return}x!==c.scrollViewSize&&W(c.scrollViewSize),U(R.value.from);const j=Math.floor(c.scrollMaxSize-Math.max(c.scrollViewSize,c.offsetEnd)-Math.min(k[B],c.scrollViewSize/2));if(j>0&&Math.ceil(c.scrollStart)>=j){p(n,c,B,c.scrollMaxSize-c.offsetEnd-w.reduce(Be,0));return}let f=0,y=c.scrollStart-c.offsetStart,D=y;if(y<=O&&y+c.scrollViewSize>=q.value)y-=q.value,f=R.value.from,D=y;else for(let _=0;y>=w[_]&&f<B;_++)y-=w[_],f+=ie;for(;y>0&&f<B;)y-=k[f],y>-c.scrollViewSize?(f++,D=y):D=k[f]+y;p(n,c,f,D)}function p(n,c,B,O,j){const f=typeof j=="string"&&j.indexOf("-force")!==-1,y=f===!0?j.replace("-force",""):j,D=y!==void 0?y:"start";let _=Math.max(0,B-S.value[D]),Z=_+S.value.total;Z>e.value&&(Z=e.value,_=Math.max(0,Z-S.value.total)),A=c.scrollStart;const ne=_!==R.value.from||Z!==R.value.to;if(ne===!1&&y===void 0){g(B);return}const{activeElement:Te}=document,ae=P.value;ne===!0&&ae!==null&&ae!==Te&&ae.contains(Te)===!0&&(ae.addEventListener("focusout",ue),setTimeout(()=>{ae==null||ae.removeEventListener("focusout",ue)})),Kl(ae,B-_);const $e=y!==void 0?k.slice(_,B).reduce(Be,0):0;if(ne===!0){const me=Z>=R.value.from&&_<=R.value.to?R.value.to:Z;R.value={from:_,to:me},q.value=Oe(w,k,0,_),T.value=Oe(w,k,Z,e.value),requestAnimationFrame(()=>{R.value.to!==Z&&A===c.scrollStart&&(R.value={from:R.value.from,to:Z},T.value=Oe(w,k,Z,e.value))})}requestAnimationFrame(()=>{if(A!==c.scrollStart)return;ne===!0&&U(_);const me=k.slice(_,B).reduce(Be,0),ge=me+c.offsetStart+q.value,He=ge+k[B];let Ie=ge+O;if(y!==void 0){const Ue=me-$e,Re=c.scrollStart+Ue;Ie=f!==!0&&Re<ge&&He<Re+c.scrollViewSize?Re:y==="end"?He-c.scrollViewSize:ge-(y==="start"?0:Math.round((c.scrollViewSize-k[B])/2))}A=Ie,xt(n,Ie,u.virtualScrollHorizontal,b.lang.rtl),g(B)})}function U(n){const c=P.value;if(c){const B=Lt.call(c.children,_=>_.classList&&_.classList.contains("q-virtual-scroll--skip")===!1),O=B.length,j=u.virtualScrollHorizontal===!0?_=>_.getBoundingClientRect().width:_=>_.offsetHeight;let f=n,y,D;for(let _=0;_<O;){for(y=j(B[_]),_++;_<O&&B[_].classList.contains("q-virtual-scroll--with-prev")===!0;)y+=j(B[_]),_++;D=y-k[f],D!==0&&(k[f]+=D,w[Math.floor(f/ie)]+=D),f++}}}function ue(){var n;(n=P.value)==null||n.focus()}function re(n,c){const B=1*a.value;(c===!0||Array.isArray(k)===!1)&&(k=[]);const O=k.length;k.length=e.value;for(let f=e.value-1;f>=O;f--)k[f]=B;const j=Math.floor((e.value-1)/ie);w=[];for(let f=0;f<=j;f++){let y=0;const D=Math.min((f+1)*ie,e.value);for(let _=f*ie;_<D;_++)y+=k[_];w.push(y)}m=-1,A=void 0,q.value=Oe(w,k,0,R.value.from),T.value=Oe(w,k,R.value.to,e.value),n>=0?(U(R.value.from),fe(()=>{J(n)})):V()}function W(n){if(n===void 0&&typeof window!="undefined"){const y=o();y!=null&&y.nodeType!==8&&(n=Ze(y,l(),$.value,Q.value,u.virtualScrollHorizontal,b.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}x=n;const c=parseFloat(u.virtualScrollSliceRatioBefore)||0,B=parseFloat(u.virtualScrollSliceRatioAfter)||0,O=1+c+B,j=n===void 0||n<=0?1:Math.ceil(n/a.value),f=Math.max(1,j,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/O));S.value={total:Math.ceil(f*O),start:Math.ceil(f*c),center:Math.ceil(f*(.5+c)),end:Math.ceil(f*(1+c)),view:j}}function oe(n,c){const B=u.virtualScrollHorizontal===!0?"width":"height",O={["--q-virtual-scroll-item-"+B]:a.value+"px"};return[n==="tbody"?s(n,{class:"q-virtual-scroll__padding",key:"before",ref:$},[s("tr",[s("td",{style:{[B]:`${q.value}px`,...O},colspan:Y.value})])]):s(n,{class:"q-virtual-scroll__padding",key:"before",ref:$,style:{[B]:`${q.value}px`,...O}}),s(n,{class:"q-virtual-scroll__content",key:"content",ref:P,tabindex:-1},c.flat()),n==="tbody"?s(n,{class:"q-virtual-scroll__padding",key:"after",ref:Q},[s("tr",[s("td",{style:{[B]:`${T.value}px`,...O},colspan:Y.value})])]):s(n,{class:"q-virtual-scroll__padding",key:"after",ref:Q,style:{[B]:`${T.value}px`,...O}})]}function g(n){m!==n&&(u.onVirtualScroll!==void 0&&v("virtualScroll",{index:n,from:R.value.from,to:R.value.to-1,direction:n<m?"decrease":"increase",ref:h}),m=n)}W();const V=Rt(le,b.platform.is.ios===!0?120:35);cl(()=>{W()});let X=!1;return zt(()=>{X=!0}),Et(()=>{if(X!==!0)return;const n=o();A!==void 0&&n!==void 0&&n!==null&&n.nodeType!==8?xt(n,A,u.virtualScrollHorizontal,b.lang.rtl):J(m)}),Fe(()=>{V.cancel()}),Object.assign(h,{scrollTo:J,reset:M,refresh:te}),{virtualScrollSliceRange:R,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:W,onVirtualScrollEvt:V,localResetVirtualScroll:re,padVirtualScroll:oe,scrollTo:J,reset:M,refresh:te}}const qt=/^on[A-Z]/;function Ql(){const{attrs:e,vnode:o}=de(),l={listeners:z({}),attributes:z({})};function a(){const C={},u={};for(const v in e)v!=="class"&&v!=="style"&&qt.test(v)===!1&&(C[v]=e[v]);for(const v in o.props)qt.test(v)===!0&&(u[v]=o.props[v]);l.attributes.value=C,l.listeners.value=u}return Ot(a),a(),l}function Ul({validate:e,resetValidation:o,requiresQForm:l}){const a=fl(vl,!1);if(a!==!1){const{props:C,proxy:u}=de();Object.assign(u,{validate:e,resetValidation:o}),G(()=>C.disable,v=>{v===!0?(typeof o=="function"&&o(),a.unbindComponent(u)):a.bindComponent(u)}),Mt(()=>{C.disable!==!0&&a.bindComponent(u)}),Fe(()=>{C.disable!==!0&&a.unbindComponent(u)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const kt=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Vt=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,_t=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,je=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,Ke=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,Je={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>kt.test(e),hexaColor:e=>Vt.test(e),hexOrHexaColor:e=>_t.test(e),rgbColor:e=>je.test(e),rgbaColor:e=>Ke.test(e),rgbOrRgbaColor:e=>je.test(e)||Ke.test(e),hexOrRgbColor:e=>kt.test(e)||je.test(e),hexaOrRgbaColor:e=>Vt.test(e)||Ke.test(e),anyColor:e=>_t.test(e)||je.test(e)||Ke.test(e)},Wl=[!0,!1,"ondemand"],Xl={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Wl.includes(e)}};function Yl(e,o){const{props:l,proxy:a}=de(),C=z(!1),u=z(null),v=z(!1);Ul({validate:T,resetValidation:q});let h=0,b;const A=i(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),m=i(()=>l.disable!==!0&&A.value===!0&&o.value===!1),x=i(()=>l.error===!0||C.value===!0),w=i(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:u.value);G(()=>l.modelValue,()=>{v.value=!0,m.value===!0&&l.lazyRules===!1&&S()});function k(){l.lazyRules!=="ondemand"&&m.value===!0&&v.value===!0&&S()}G(()=>l.reactiveRules,$=>{$===!0?b===void 0&&(b=G(()=>l.rules,k,{immediate:!0,deep:!0})):b!==void 0&&(b(),b=void 0)},{immediate:!0}),G(()=>l.lazyRules,k),G(e,$=>{$===!0?v.value=!0:m.value===!0&&l.lazyRules!=="ondemand"&&S()});function q(){h++,o.value=!1,v.value=!1,C.value=!1,u.value=null,S.cancel()}function T($=l.modelValue){if(l.disable===!0||A.value===!1)return!0;const Q=++h,P=o.value!==!0?()=>{v.value=!0}:()=>{},R=(F,E)=>{F===!0&&P(),C.value=F,u.value=E||null,o.value=!1},Y=[];for(let F=0;F<l.rules.length;F++){const E=l.rules[F];let M;if(typeof E=="function"?M=E($,Je):typeof E=="string"&&Je[E]!==void 0&&(M=Je[E]($)),M===!1||typeof M=="string")return R(!0,M),!1;M!==!0&&M!==void 0&&Y.push(M)}return Y.length===0?(R(!1),!0):(o.value=!0,Promise.all(Y).then(F=>{if(F===void 0||Array.isArray(F)===!1||F.length===0)return Q===h&&R(!1),!0;const E=F.find(M=>M===!1||typeof M=="string");return Q===h&&R(E!==void 0,E),E===void 0},F=>(Q===h&&(console.error(F),R(!0)),!1)))}const S=Rt(T,0);return Fe(()=>{b==null||b(),S.cancel()}),Object.assign(a,{resetValidation:q,validate:T}),ml(a,"hasError",()=>x.value),{isDirtyModel:v,hasRules:A,hasError:x,errorMessage:w,validate:T,resetValidation:q}}function tt(e){return e!=null&&(""+e).length!==0}const Zl={...lt,...Xl,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},nt={...Zl,maxlength:[Number,String]},Pt=["update:modelValue","clear","focus","blur"];function jt({requiredForAttr:e=!0,tagProp:o,changeEvent:l=!1}={}){const{props:a,proxy:C}=de(),u=ot(a,C.$q),v=Cl({required:e,getValue:()=>a.for});return{requiredForAttr:e,changeEvent:l,tag:o===!0?i(()=>a.tag):{value:"label"},isDark:u,editable:i(()=>a.disable!==!0&&a.readonly!==!0),innerLoading:z(!1),focused:z(!1),hasPopupOpen:!1,splitAttrs:Ql(),targetUid:v,rootRef:z(null),targetRef:z(null),controlRef:z(null)}}function Kt(e){const{props:o,emit:l,slots:a,attrs:C,proxy:u}=de(),{$q:v}=u;let h=null;e.hasValue===void 0&&(e.hasValue=i(()=>tt(o.modelValue))),e.emitValue===void 0&&(e.emitValue=g=>{l("update:modelValue",g)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:te,onFocusout:J}),Object.assign(e,{clearValue:le,onControlFocusin:te,onControlFocusout:J,focus:E}),e.computedCounter===void 0&&(e.computedCounter=i(()=>{if(o.counter!==!1){const g=typeof o.modelValue=="string"||typeof o.modelValue=="number"?(""+o.modelValue).length:Array.isArray(o.modelValue)===!0?o.modelValue.length:0,V=o.maxlength!==void 0?o.maxlength:o.maxValues;return g+(V!==void 0?" / "+V:"")}}));const{isDirtyModel:b,hasRules:A,hasError:m,errorMessage:x,resetValidation:w}=Yl(e.focused,e.innerLoading),k=e.floatingLabel!==void 0?i(()=>o.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):i(()=>o.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),q=i(()=>o.bottomSlots===!0||o.hint!==void 0||A.value===!0||o.counter===!0||o.error!==null),T=i(()=>o.filled===!0?"filled":o.outlined===!0?"outlined":o.borderless===!0?"borderless":o.standout?"standout":"standard"),S=i(()=>`q-field row no-wrap items-start q-field--${T.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(o.rounded===!0?" q-field--rounded":"")+(o.square===!0?" q-field--square":"")+(k.value===!0?" q-field--float":"")+(Q.value===!0?" q-field--labeled":"")+(o.dense===!0?" q-field--dense":"")+(o.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(m.value===!0?" q-field--error":"")+(m.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(o.hideBottomSpace!==!0&&q.value===!0?" q-field--with-bottom":"")+(o.disable===!0?" q-field--disabled":o.readonly===!0?" q-field--readonly":"")),$=i(()=>"q-field__control relative-position row no-wrap"+(o.bgColor!==void 0?` bg-${o.bgColor}`:"")+(m.value===!0?" text-negative":typeof o.standout=="string"&&o.standout.length!==0&&e.focused.value===!0?` ${o.standout}`:o.color!==void 0?` text-${o.color}`:"")),Q=i(()=>o.labelSlot===!0||o.label!==void 0),P=i(()=>"q-field__label no-pointer-events absolute ellipsis"+(o.labelColor!==void 0&&m.value!==!0?` text-${o.labelColor}`:"")),R=i(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:k.value,modelValue:o.modelValue,emitValue:e.emitValue})),Y=i(()=>{const g={};return e.targetUid.value&&(g.for=e.targetUid.value),o.disable===!0&&(g["aria-disabled"]="true"),g});function F(){var X;const g=document.activeElement;let V=(X=e.targetRef)==null?void 0:X.value;V&&(g===null||g.id!==e.targetUid.value)&&(V.hasAttribute("tabindex")===!0||(V=V.querySelector("[tabindex]")),V!==g&&(V==null||V.focus({preventScroll:!0})))}function E(){$t(F)}function M(){xl(F);const g=document.activeElement;g!==null&&e.rootRef.value.contains(g)&&g.blur()}function te(g){h!==null&&(clearTimeout(h),h=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",g))}function J(g,V){h!==null&&clearTimeout(h),h=setTimeout(()=>{h=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",g)),V==null||V())})}function le(g){var V;ce(g),v.platform.is.mobile!==!0?(((V=e.targetRef)==null?void 0:V.value)||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),o.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",o.modelValue),fe(()=>{const X=b.value;w(),b.value=X})}function p(g){[13,32].includes(g.keyCode)&&le(g)}function U(){const g=[];return a.prepend!==void 0&&g.push(s("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ve},a.prepend())),g.push(s("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},ue())),m.value===!0&&o.noErrorIcon===!1&&g.push(W("error",[s(Se,{name:v.iconSet.field.error,color:"negative"})])),o.loading===!0||e.innerLoading.value===!0?g.push(W("inner-loading-append",a.loading!==void 0?a.loading():[s(gl,{color:o.color})])):o.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&g.push(W("inner-clearable-append",[s(Se,{class:"q-field__focusable-action",name:o.clearIcon||v.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":v.lang.label.clear,onKeyup:p,onClick:le})])),a.append!==void 0&&g.push(s("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ve},a.append())),e.getInnerAppend!==void 0&&g.push(W("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&g.push(e.getControlChild()),g}function ue(){const g=[];return o.prefix!==void 0&&o.prefix!==null&&g.push(s("div",{class:"q-field__prefix no-pointer-events row items-center"},o.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&g.push(e.getShadowControl()),e.getControl!==void 0?g.push(e.getControl()):a.rawControl!==void 0?g.push(a.rawControl()):a.control!==void 0&&g.push(s("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":o.autofocus===!0||void 0},a.control(R.value))),Q.value===!0&&g.push(s("div",{class:P.value},Ae(a.label,o.label))),o.suffix!==void 0&&o.suffix!==null&&g.push(s("div",{class:"q-field__suffix no-pointer-events row items-center"},o.suffix)),g.concat(Ae(a.default))}function re(){let g,V;m.value===!0?x.value!==null?(g=[s("div",{role:"alert"},x.value)],V=`q--slot-error-${x.value}`):(g=Ae(a.error),V="q--slot-error"):(o.hideHint!==!0||e.focused.value===!0)&&(o.hint!==void 0?(g=[s("div",o.hint)],V=`q--slot-hint-${o.hint}`):(g=Ae(a.hint),V="q--slot-hint"));const X=o.counter===!0||a.counter!==void 0;if(o.hideBottomSpace===!0&&X===!1&&g===void 0)return;const n=s("div",{key:V,class:"q-field__messages col"},g);return s("div",{class:"q-field__bottom row items-start q-field__bottom--"+(o.hideBottomSpace!==!0?"animated":"stale"),onClick:ve},[o.hideBottomSpace===!0?n:s(et,{name:"q-transition--field-message"},()=>n),X===!0?s("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function W(g,V){return V===null?null:s("div",{key:g,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},V)}let oe=!1;return zt(()=>{oe=!0}),Et(()=>{oe===!0&&o.autofocus===!0&&u.focus()}),o.autofocus===!0&&Mt(()=>{u.focus()}),Fe(()=>{h!==null&&clearTimeout(h)}),Object.assign(u,{focus:E,blur:M}),function(){const V=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":o.autofocus===!0||void 0,...Y.value}:Y.value;return s(e.tag.value,{ref:e.rootRef,class:[S.value,C.class],style:C.style,...V},[a.before!==void 0?s("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ve},a.before()):null,s("div",{class:"q-field__inner relative-position col self-stretch"},[s("div",{ref:e.controlRef,class:$.value,tabindex:-1,...e.controlEvents},U()),q.value===!0?re():null]),a.after!==void 0?s("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ve},a.after()):null])}}const Jl=Me({name:"QField",inheritAttrs:!1,props:{...nt,tag:{type:String,default:"label"}},emits:Pt,setup(){return Kt(jt({tagProp:!0}))}});let Ne=0;const Gl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},At={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},eo=Me({name:"QDialog",inheritAttrs:!1,props:{...kl,...ql,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...wl,"shake","click","escapeKey"],setup(e,{slots:o,emit:l,attrs:a}){const C=de(),u=z(null),v=z(!1),h=z(!1);let b=null,A=null,m,x;const w=i(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:k}=Il(),{registerTimeout:q}=Ol(),{registerTick:T,removeTick:S}=Vl(),{transitionProps:$,transitionStyle:Q}=_l(e,()=>At[e.position][0],()=>At[e.position][1]),P=i(()=>Q.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:R,hidePortal:Y,portalIsAccessible:F,renderPortal:E}=Al(C,u,j,"dialog"),{hide:M}=Bl({showing:v,hideOnRouteChange:w,handleShow:re,handleHide:W,processOnMount:!0}),{addToHistory:te,removeFromHistory:J}=Fl(v,M,w),le=i(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Gl[e.position]}`+(h.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),p=i(()=>v.value===!0&&e.seamless!==!0),U=i(()=>e.autoClose===!0?{onClick:c}:{}),ue=i(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${p.value===!0?"modal":"seamless"}`,a.class]);G(()=>e.maximized,f=>{v.value===!0&&n(f)}),G(p,f=>{k(f),f===!0?(Rl(O),zl(V)):(yt(O),pt(V))});function re(f){var y;te(),A=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,n(e.maximized),R(),h.value=!0,e.noFocus!==!0?((y=document.activeElement)==null||y.blur(),T(oe)):S(),q(()=>{if(C.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:D,bottom:_}=document.activeElement.getBoundingClientRect(),{innerHeight:Z}=window,ne=window.visualViewport!==void 0?window.visualViewport.height:Z;D>0&&_>ne/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-ne,_>=Z?1/0:Math.ceil(document.scrollingElement.scrollTop+_-ne/2))),document.activeElement.scrollIntoView()}x=!0,u.value.click(),x=!1}R(!0),h.value=!1,l("show",f)},e.transitionDuration)}function W(f){S(),J(),X(!0),h.value=!0,Y(),A!==null&&((((f==null?void 0:f.type.indexOf("key"))===0?A.closest('[tabindex]:not([tabindex^="-"])'):void 0)||A).focus(),A=null),q(()=>{Y(!0),h.value=!1,l("hide",f)},e.transitionDuration)}function oe(f){$t(()=>{let y=u.value;if(y!==null){if(f!==void 0){const D=y.querySelector(f);if(D!==null){D.focus({preventScroll:!0});return}}y.contains(document.activeElement)!==!0&&(y=y.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||y.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||y.querySelector("[autofocus], [data-autofocus]")||y,y.focus({preventScroll:!0}))}})}function g(f){f&&typeof f.focus=="function"?f.focus({preventScroll:!0}):oe(),l("shake");const y=u.value;y!==null&&(y.classList.remove("q-animate--scale"),y.classList.add("q-animate--scale"),b!==null&&clearTimeout(b),b=setTimeout(()=>{b=null,u.value!==null&&(y.classList.remove("q-animate--scale"),oe())},170))}function V(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&g():(l("escapeKey"),M()))}function X(f){b!==null&&(clearTimeout(b),b=null),(f===!0||v.value===!0)&&(n(!1),e.seamless!==!0&&(k(!1),yt(O),pt(V))),f!==!0&&(A=null)}function n(f){f===!0?m!==!0&&(Ne<1&&document.body.classList.add("q-body--dialog"),Ne++,m=!0):m===!0&&(Ne<2&&document.body.classList.remove("q-body--dialog"),Ne--,m=!1)}function c(f){x!==!0&&(M(f),l("click",f))}function B(f){e.persistent!==!0&&e.noBackdropDismiss!==!0?M(f):e.noShake!==!0&&g()}function O(f){e.allowFocusOutside!==!0&&F.value===!0&&hl(u.value,f.target)!==!0&&oe('[tabindex]:not([tabindex="-1"])')}Object.assign(C.proxy,{focus:oe,shake:g,__updateRefocusTarget(f){A=f||null}}),Fe(X);function j(){return s("div",{role:"dialog","aria-modal":p.value===!0?"true":"false",...a,class:ue.value},[s(et,{name:"q-transition--fade",appear:!0},()=>p.value===!0?s("div",{class:"q-dialog__backdrop fixed-full",style:P.value,"aria-hidden":"true",tabindex:-1,onClick:B}):null),s(et,$.value,()=>v.value===!0?s("div",{ref:u,class:le.value,style:Q.value,tabindex:-1,...U.value},Ae(o.default)):null)])}return E}}),to=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,lo=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,oo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,no=/[a-z0-9_ -]$/i;function uo(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(bl.is.firefox===!0?no.test(l.data)===!1:to.test(l.data)===!0||lo.test(l.data)===!0||oo.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const Bt=e=>["add","add-unique","toggle"].includes(e),ao=".*+?^${}()|[]\\",io=Object.keys(nt);function Ge(e,o){if(typeof e=="function")return e;const l=e!==void 0?e:o;return a=>a!==null&&typeof a=="object"&&l in a?a[l]:a}const xo=Me({name:"QSelect",inheritAttrs:!1,props:{...wt,...Ht,...nt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Bt},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:wt.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Pt,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:o,emit:l}){const{proxy:a}=de(),{$q:C}=a,u=z(!1),v=z(!1),h=z(-1),b=z(""),A=z(!1),m=z(!1);let x=null,w=null,k,q,T,S=null,$,Q,P,R;const Y=z(null),F=z(null),E=z(null),M=z(null),te=z(null),J=Hl(e),le=uo(mt),p=i(()=>Array.isArray(e.options)?e.options.length:0),U=i(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ue,virtualScrollSliceSizeComputed:re,localResetVirtualScroll:W,padVirtualScroll:oe,onVirtualScrollEvt:g,scrollTo:V,setVirtualScrollSize:X}=Nl({virtualScrollLength:p,getVirtualScrollTarget:Wt,getVirtualScrollEl:ft,virtualScrollItemSizeComputed:U}),n=jt(),c=i(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,r=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const d=e.mapOptions===!0&&k!==void 0?k:[],I=r.map(H=>Ut(H,d));return e.modelValue===null&&t===!0?I.filter(H=>H!==null):I}return r}),B=i(()=>{const t={};return io.forEach(r=>{const d=e[r];d!==void 0&&(t[r]=d)}),t}),O=i(()=>e.optionsDark===null?n.isDark.value:e.optionsDark),j=i(()=>tt(c.value)),f=i(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||c.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),y=i(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),D=i(()=>p.value===0),_=i(()=>c.value.map(t=>ee.value(t)).join(", ")),Z=i(()=>e.displayValue!==void 0?e.displayValue:_.value),ne=i(()=>e.optionsHtml===!0?()=>!0:t=>(t==null?void 0:t.html)===!0),Te=i(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||c.value.some(ne.value))),ae=i(()=>n.focused.value===!0?e.tabindex:-1),$e=i(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${n.targetUid.value}_lb`};return h.value>=0&&(t["aria-activedescendant"]=`${n.targetUid.value}_${h.value}`),t}),me=i(()=>({id:`${n.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),ge=i(()=>c.value.map((t,r)=>({index:r,opt:t,html:ne.value(t),selected:!0,removeAtIndex:Qt,toggleOption:he,tabindex:ae.value}))),He=i(()=>{if(p.value===0)return[];const{from:t,to:r}=ue.value;return e.options.slice(t,r).map((d,I)=>{const H=ye.value(d)===!0,K=Xe(d)===!0,L=t+I,N={clickable:!0,active:K,activeClass:Re.value,manualFocus:!0,focused:!1,disable:H,tabindex:-1,dense:e.optionsDense,dark:O.value,role:"option","aria-selected":K===!0?"true":"false",id:`${n.targetUid.value}_${L}`,onClick:()=>{he(d)}};return H!==!0&&(h.value===L&&(N.focused=!0),C.platform.is.desktop===!0&&(N.onMousemove=()=>{u.value===!0&&pe(L)})),{index:L,opt:d,html:ne.value(d),label:ee.value(d),selected:N.active,focused:N.focused,toggleOption:he,setOptionIndex:pe,itemProps:N}})}),Ie=i(()=>e.dropdownIcon!==void 0?e.dropdownIcon:C.iconSet.arrow.dropdown),Ue=i(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Re=i(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),se=i(()=>Ge(e.optionValue,"value")),ee=i(()=>Ge(e.optionLabel,"label")),ye=i(()=>Ge(e.optionDisable,"disable")),Le=i(()=>c.value.map(se.value)),Nt=i(()=>{const t={onInput:mt,onChange:le,onKeydown:dt,onKeyup:st,onKeypress:ct,onFocus:it,onClick(r){q===!0&&Ve(r)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=le,t});G(c,t=>{k=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&n.innerLoading.value!==!0&&(v.value!==!0&&u.value!==!0||j.value!==!0)&&(T!==!0&&qe(),(v.value===!0||u.value===!0)&&Ce(""))},{immediate:!0}),G(()=>e.fillInput,qe),G(u,Ye),G(p,al);function ut(t){return e.emitValue===!0?se.value(t):t}function We(t){if(t!==-1&&t<c.value.length)if(e.multiple===!0){const r=e.modelValue.slice();l("remove",{index:t,value:r.splice(t,1)[0]}),l("update:modelValue",r)}else l("update:modelValue",null)}function Qt(t){We(t),n.focus()}function at(t,r){const d=ut(t);if(e.multiple!==!0){e.fillInput===!0&&ze(ee.value(t),!0,!0),l("update:modelValue",d);return}if(c.value.length===0){l("add",{index:0,value:d}),l("update:modelValue",e.multiple===!0?[d]:d);return}if(r===!0&&Xe(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const I=e.modelValue.slice();l("add",{index:I.length,value:d}),I.push(d),l("update:modelValue",I)}function he(t,r){var K;if(n.editable.value!==!0||t===void 0||ye.value(t)===!0)return;const d=se.value(t);if(e.multiple!==!0){r!==!0&&(ze(e.fillInput===!0?ee.value(t):"",!0,!0),be()),(K=F.value)==null||K.focus(),(c.value.length===0||Ee(se.value(c.value[0]),d)!==!0)&&l("update:modelValue",e.emitValue===!0?d:t);return}if((q!==!0||A.value===!0)&&n.focus(),it(),c.value.length===0){const L=e.emitValue===!0?d:t;l("add",{index:0,value:L}),l("update:modelValue",e.multiple===!0?[L]:L);return}const I=e.modelValue.slice(),H=Le.value.findIndex(L=>Ee(L,d));if(H!==-1)l("remove",{index:H,value:I.splice(H,1)[0]});else{if(e.maxValues!==void 0&&I.length>=e.maxValues)return;const L=e.emitValue===!0?d:t;l("add",{index:I.length,value:L}),I.push(L)}l("update:modelValue",I)}function pe(t){if(C.platform.is.desktop!==!0)return;const r=t!==-1&&t<p.value?t:-1;h.value!==r&&(h.value=r)}function De(t=1,r){if(u.value===!0){let d=h.value;do d=Ct(d+t,-1,p.value-1);while(d!==-1&&d!==h.value&&ye.value(e.options[d])===!0);h.value!==d&&(pe(d),V(d),r!==!0&&e.useInput===!0&&e.fillInput===!0&&Pe(d>=0?ee.value(e.options[d]):$,!0))}}function Ut(t,r){const d=I=>Ee(se.value(I),t);return e.options.find(d)||r.find(d)||t}function Xe(t){const r=se.value(t);return Le.value.find(d=>Ee(d,r))!==void 0}function it(t){e.useInput===!0&&F.value!==null&&(t===void 0||F.value===t.target&&t.target.value===_.value)&&F.value.select()}function rt(t){pl(t,27)===!0&&u.value===!0&&(Ve(t),be(),qe()),l("keyup",t)}function st(t){const{value:r}=t.target;if(t.keyCode!==void 0){rt(t);return}if(t.target.value="",x!==null&&(clearTimeout(x),x=null),w!==null&&(clearTimeout(w),w=null),qe(),typeof r=="string"&&r.length!==0){const d=r.toLocaleLowerCase(),I=K=>{const L=e.options.find(N=>String(K.value(N)).toLocaleLowerCase()===d);return L===void 0?!1:(c.value.indexOf(L)===-1?he(L):be(),!0)},H=K=>{I(se)!==!0&&K!==!0&&I(ee)!==!0&&Ce(r,!0,()=>H(!0))};H()}else n.clearValue(t)}function ct(t){l("keypress",t)}function dt(t){if(l("keydown",t),Sl(t)===!0)return;const r=b.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),d=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(h.value!==-1||r===!0);if(t.keyCode===27){ve(t);return}if(t.keyCode===9&&d===!1){xe();return}if(t.target===void 0||t.target.id!==n.targetUid.value||n.editable.value!==!0)return;if(t.keyCode===40&&n.innerLoading.value!==!0&&u.value===!1){ce(t),we();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&b.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?We(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&l("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof b.value!="string"||b.value.length===0)&&(ce(t),h.value=-1,De(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&re.value!==void 0&&(ce(t),h.value=Math.max(-1,Math.min(p.value,h.value+(t.keyCode===33?-1:1)*re.value.view)),De(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(ce(t),De(t.keyCode===38?-1:1,e.multiple));const I=p.value;if((P===void 0||R<Date.now())&&(P=""),I>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||P.length!==0)){u.value!==!0&&we(t);const H=t.key.toLocaleLowerCase(),K=P.length===1&&P[0]===H;R=Date.now()+1500,K===!1&&(ce(t),P+=H);const L=new RegExp("^"+P.split("").map(ke=>ao.indexOf(ke)!==-1?"\\"+ke:ke).join(".*"),"i");let N=h.value;if(K===!0||N<0||L.test(ee.value(e.options[N]))!==!0)do N=Ct(N+1,-1,I-1);while(N!==h.value&&(ye.value(e.options[N])===!0||L.test(ee.value(e.options[N]))!==!0));h.value!==N&&fe(()=>{pe(N),V(N),N>=0&&e.useInput===!0&&e.fillInput===!0&&Pe(ee.value(e.options[N]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||P!=="")&&(t.keyCode!==9||d===!1))){if(t.keyCode!==9&&ce(t),h.value!==-1&&h.value<I){he(e.options[h.value]);return}if(r===!0){const H=(K,L)=>{var ke;if(L){if(Bt(L)!==!0)return}else L=e.newValueMode;if(ze("",e.multiple!==!0,!0),K==null)return;(L==="toggle"?he:at)(K,L==="add-unique"),e.multiple!==!0&&((ke=F.value)==null||ke.focus(),be())};if(e.onNewValue!==void 0?l("newValue",b.value,H):H(b.value),e.multiple!==!0)return}u.value===!0?xe():n.innerLoading.value!==!0&&we()}}function ft(){return q===!0?te.value:E.value!==null&&E.value.contentEl!==null?E.value.contentEl:void 0}function Wt(){return ft()}function Xt(){return e.hideSelected===!0?[]:o["selected-item"]!==void 0?ge.value.map(t=>o["selected-item"](t)).slice():o.selected!==void 0?[].concat(o.selected()):e.useChips===!0?ge.value.map((t,r)=>s(Pl,{key:"option-"+r,removable:n.editable.value===!0&&ye.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ae.value,onRemove(){t.removeAtIndex(r)}},()=>s("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ee.value(t.opt)}))):[s("span",{class:"ellipsis",[Te.value===!0?"innerHTML":"textContent"]:Z.value})]}function vt(){if(D.value===!0)return o["no-option"]!==void 0?o["no-option"]({inputValue:b.value}):void 0;const t=o.option!==void 0?o.option:d=>s($l,{key:d.index,...d.itemProps},()=>s(Ml,()=>s(Tl,()=>s("span",{[d.html===!0?"innerHTML":"textContent"]:d.label}))));let r=oe("div",He.value.map(t));return o["before-options"]!==void 0&&(r=o["before-options"]().concat(r)),Tt(o["after-options"],r)}function Yt(t,r){const d=r===!0?{...$e.value,...n.splitAttrs.attributes.value}:void 0,I={ref:r===!0?F:void 0,key:"i_t",class:f.value,style:e.inputStyle,value:b.value!==void 0?b.value:"",type:"search",...d,id:r===!0?n.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Nt.value};return t!==!0&&q===!0&&(Array.isArray(I.class)===!0?I.class=[...I.class,"no-pointer-events"]:I.class+=" no-pointer-events"),s("input",I)}function mt(t){x!==null&&(clearTimeout(x),x=null),w!==null&&(clearTimeout(w),w=null),!(t&&t.target&&t.target.qComposing===!0)&&(Pe(t.target.value||""),T=!0,$=b.value,n.focused.value!==!0&&(q!==!0||A.value===!0)&&n.focus(),e.onFilter!==void 0&&(x=setTimeout(()=>{x=null,Ce(b.value)},e.inputDebounce)))}function Pe(t,r){b.value!==t&&(b.value=t,r===!0||e.inputDebounce===0||e.inputDebounce==="0"?l("inputValue",t):w=setTimeout(()=>{w=null,l("inputValue",t)},e.inputDebounce))}function ze(t,r,d){T=d!==!0,e.useInput===!0&&(Pe(t,!0),(r===!0||d!==!0)&&($=t),r!==!0&&Ce(t))}function Ce(t,r,d){if(e.onFilter===void 0||r!==!0&&n.focused.value!==!0)return;n.innerLoading.value===!0?l("filterAbort"):(n.innerLoading.value=!0,m.value=!0),t!==""&&e.multiple!==!0&&c.value.length!==0&&T!==!0&&t===ee.value(c.value[0])&&(t="");const I=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);S!==null&&clearTimeout(S),S=I,l("filter",t,(H,K)=>{(r===!0||n.focused.value===!0)&&S===I&&(clearTimeout(S),typeof H=="function"&&H(),m.value=!1,fe(()=>{n.innerLoading.value=!1,n.editable.value===!0&&(r===!0?u.value===!0&&be():u.value===!0?Ye(!0):u.value=!0),typeof K=="function"&&fe(()=>{K(a)}),typeof d=="function"&&fe(()=>{d(a)})}))},()=>{n.focused.value===!0&&S===I&&(clearTimeout(S),n.innerLoading.value=!1,m.value=!1),u.value===!0&&(u.value=!1)})}function Zt(){return s(El,{ref:E,class:y.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&D.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:O.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:Ue.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...me.value,onScrollPassive:g,onBeforeShow:ht,onBeforeHide:Jt,onShow:Gt},vt)}function Jt(t){bt(t),xe()}function Gt(){X()}function el(t){var r;Ve(t),(r=F.value)==null||r.focus(),A.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function tl(t){Ve(t),fe(()=>{A.value=!1})}function ll(){const t=[s(Jl,{class:`col-auto ${n.fieldClass.value}`,...B.value,for:n.targetUid.value,dark:O.value,square:!0,loading:m.value,itemAligned:!1,filled:!0,stackLabel:b.value.length!==0,...n.splitAttrs.listeners.value,onFocus:el,onBlur:tl},{...o,rawControl:()=>n.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(s("div",{ref:te,class:y.value+" scroll",style:e.popupContentStyle,...me.value,onClick:ve,onScrollPassive:g},vt())),s(eo,{ref:M,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:Q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:ht,onBeforeHide:ol,onHide:nl,onShow:ul},()=>s("div",{class:"q-select__dialog"+(O.value===!0?" q-select__dialog--dark q-dark":"")+(A.value===!0?" q-select__dialog--focused":"")},t))}function ol(t){bt(t),M.value!==null&&M.value.__updateRefocusTarget(n.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),n.focused.value=!1}function nl(t){be(),n.focused.value===!1&&l("blur",t),qe()}function ul(){const t=document.activeElement;(t===null||t.id!==n.targetUid.value)&&F.value!==null&&F.value!==t&&F.value.focus(),X()}function xe(){v.value!==!0&&(h.value=-1,u.value===!0&&(u.value=!1),n.focused.value===!1&&(S!==null&&(clearTimeout(S),S=null),n.innerLoading.value===!0&&(l("filterAbort"),n.innerLoading.value=!1,m.value=!1)))}function we(t){n.editable.value===!0&&(q===!0?(n.onControlFocusin(t),v.value=!0,fe(()=>{n.focus()})):n.focus(),e.onFilter!==void 0?Ce(b.value):(D.value!==!0||o["no-option"]!==void 0)&&(u.value=!0))}function be(){v.value=!1,xe()}function qe(){e.useInput===!0&&ze(e.multiple!==!0&&e.fillInput===!0&&c.value.length!==0&&ee.value(c.value[0])||"",!0,!0)}function Ye(t){let r=-1;if(t===!0){if(c.value.length!==0){const d=se.value(c.value[0]);r=e.options.findIndex(I=>Ee(se.value(I),d))}W(r)}pe(r)}function al(t,r){u.value===!0&&n.innerLoading.value===!1&&(W(-1,!0),fe(()=>{u.value===!0&&n.innerLoading.value===!1&&(t>r?W():Ye(!0))}))}function gt(){v.value===!1&&E.value!==null&&E.value.updatePosition()}function ht(t){t!==void 0&&Ve(t),l("popupShow",t),n.hasPopupOpen=!0,n.onControlFocusin(t)}function bt(t){t!==void 0&&Ve(t),l("popupHide",t),n.hasPopupOpen=!1,n.onControlFocusout(t)}function St(){q=C.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?o["no-option"]!==void 0||e.onFilter!==void 0||D.value===!1:!0),Q=C.platform.is.ios===!0&&q===!0&&e.useInput===!0?"fade":e.transitionShow}return Ot(St),yl(gt),St(),Fe(()=>{x!==null&&clearTimeout(x),w!==null&&clearTimeout(w)}),Object.assign(a,{showPopup:we,hidePopup:be,removeAtIndex:We,add:at,toggleOption:he,getOptionIndex:()=>h.value,setOptionIndex:pe,moveOptionSelection:De,filter:Ce,updateMenuPosition:gt,updateInputValue:ze,isOptionSelected:Xe,getEmittingOptionValue:ut,isOptionDisabled:(...t)=>ye.value.apply(null,t)===!0,getOptionValue:(...t)=>se.value.apply(null,t),getOptionLabel:(...t)=>ee.value.apply(null,t)}),Object.assign(n,{innerValue:c,fieldClass:i(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:Y,targetRef:F,hasValue:j,showPopup:we,floatingLabel:i(()=>e.hideSelected!==!0&&j.value===!0||typeof b.value=="number"||b.value.length!==0||tt(e.displayValue)),getControlChild:()=>{if(n.editable.value!==!1&&(v.value===!0||D.value!==!0||o["no-option"]!==void 0))return q===!0?ll():Zt();n.hasPopupOpen===!0&&(n.hasPopupOpen=!1)},controlEvents:{onFocusin(t){n.onControlFocusin(t)},onFocusout(t){n.onControlFocusout(t,()=>{qe(),xe()})},onClick(t){var r;if(ve(t),q!==!0&&u.value===!0){xe(),(r=F.value)==null||r.focus();return}we(t)}},getControl:t=>{const r=Xt(),d=t===!0||v.value!==!0||q!==!0;if(e.useInput===!0)r.push(Yt(t,d));else if(n.editable.value===!0){const H=d===!0?$e.value:void 0;r.push(s("input",{ref:d===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:d===!0?n.targetUid.value:void 0,value:Z.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...H,onKeydown:dt,onKeyup:rt,onKeypress:ct})),d===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&r.push(s("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:st}))}if(J.value!==void 0&&e.disable!==!0&&Le.value.length!==0){const H=Le.value.map(K=>s("option",{value:K,selected:!0}));r.push(s("select",{class:"hidden",name:J.value,multiple:e.multiple},H))}const I=e.useInput===!0||d!==!0?void 0:n.splitAttrs.attributes.value;return s("div",{class:"q-field__native row items-center",...I,...n.splitAttrs.listeners.value},r)},getInnerAppend:()=>e.loading!==!0&&m.value!==!0&&e.hideDropdownIcon!==!0?[s(Se,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Ie.value})]:null}),Kt(n)}});function ro(e,o){const l=z(null),a=i(()=>e.disable===!0?null:s("span",{ref:l,class:"no-outline",tabindex:-1}));function C(u){const v=o.value;(u==null?void 0:u.qAvoidFocus)!==!0&&((u==null?void 0:u.type.indexOf("key"))===0?document.activeElement!==v&&(v==null?void 0:v.contains(document.activeElement))===!0&&v.focus():l.value!==null&&(u===void 0||(v==null?void 0:v.contains(u.target))===!0)&&l.value.focus())}return{refocusTargetEl:a,refocusTarget:C}}const so={xs:30,sm:35,md:40,lg:50,xl:60},co={...lt,...Ft,...Ht,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>e==="tf"||e==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},fo=["update:modelValue"];function vo(e,o){const{props:l,slots:a,emit:C,proxy:u}=de(),{$q:v}=u,h=ot(l,v),b=z(null),{refocusTargetEl:A,refocusTarget:m}=ro(l,b),x=It(l,so),w=i(()=>l.val!==void 0&&Array.isArray(l.modelValue)),k=i(()=>{const p=_e(l.val);return w.value===!0?l.modelValue.findIndex(U=>_e(U)===p):-1}),q=i(()=>w.value===!0?k.value!==-1:_e(l.modelValue)===_e(l.trueValue)),T=i(()=>w.value===!0?k.value===-1:_e(l.modelValue)===_e(l.falseValue)),S=i(()=>q.value===!1&&T.value===!1),$=i(()=>l.disable===!0?-1:l.tabindex||0),Q=i(()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(l.disable===!0?" disabled":"")+(h.value===!0?` q-${e}--dark`:"")+(l.dense===!0?` q-${e}--dense`:"")+(l.leftLabel===!0?" reverse":"")),P=i(()=>{const p=q.value===!0?"truthy":T.value===!0?"falsy":"indet",U=l.color!==void 0&&(l.keepColor===!0||T.value!==!0)?` text-${l.color}`:"";return`q-${e}__inner relative-position non-selectable q-${e}__inner--${p}${U}`}),R=i(()=>{const p={type:"checkbox"};return l.name!==void 0&&Object.assign(p,{".checked":q.value,"^checked":q.value===!0?"checked":void 0,name:l.name,value:w.value===!0?l.val:l.trueValue}),p}),Y=Ll(R),F=i(()=>{const p={tabindex:$.value,role:"checkbox","aria-label":l.label,"aria-checked":S.value===!0?"mixed":q.value===!0?"true":"false"};return l.disable===!0&&(p["aria-disabled"]="true"),p});function E(p){p!==void 0&&(ce(p),m(p)),l.disable!==!0&&C("update:modelValue",M(),p)}function M(){if(w.value===!0){if(q.value===!0){const p=l.modelValue.slice();return p.splice(k.value,1),p}return l.modelValue.concat([l.val])}if(q.value===!0){if(l.toggleOrder!=="ft"||l.toggleIndeterminate===!1)return l.falseValue}else if(T.value===!0){if(l.toggleOrder==="ft"||l.toggleIndeterminate===!1)return l.trueValue}else return l.toggleOrder!=="ft"?l.trueValue:l.falseValue;return l.indeterminateValue}function te(p){(p.keyCode===13||p.keyCode===32)&&ce(p)}function J(p){(p.keyCode===13||p.keyCode===32)&&E(p)}const le=o(q,S);return Object.assign(u,{toggle:E}),()=>{const p=le();l.disable!==!0&&Y(p,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const U=[s("div",{class:P.value,style:x.value,"aria-hidden":"true"},p)];A.value!==null&&U.push(A.value);const ue=l.label!==void 0?Tt(a.default,[l.label]):Ae(a.default);return ue!==void 0&&U.push(s("div",{class:`q-${e}__label q-anchor--skip`},ue)),s("div",{ref:b,class:Q.value,...F.value,onClick:E,onKeydown:te,onKeyup:J},U)}}const mo=()=>s("div",{key:"svg",class:"q-checkbox__bg absolute"},[s("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[s("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),s("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),wo=Me({name:"QCheckbox",props:co,emits:fo,setup(e){const o=mo();function l(a,C){const u=i(()=>(a.value===!0?e.checkedIcon:C.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>u.value!==null?[s("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[s(Se,{class:"q-checkbox__icon",name:u.value})])]:[o]}return vo("checkbox",l)}});export{Pl as Q,xo as a,eo as b,wo as c,nt as d,jt as e,tt as f,uo as g,Kt as h,wt as i,Nl as j,Co as k,Pt as u};
