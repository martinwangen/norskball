import{M as N,_ as P,r as v,d as c,J as T,L as l,V as t,Z as r,N as n,X as m,T as q,S as o,$ as B,K as R,i as V,W as I,a0 as M}from"./index-CTreVzl0.js";import{Q as _}from"./QTd-BYSC-knG.js";import{Q as S}from"./QCheckbox-vuysIfTN.js";import{Q as $}from"./QTable-CLzfjrdm.js";import{Q as z}from"./QPage-CNfH3E9K.js";import{t as j}from"./teamService-DXOCHlCm.js";import{u as A}from"./vue-i18n.runtime-BCIFtfxE.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-prevent-scroll-DrlKWM6k.js";import"./use-dark-DXnOpC_V.js";import"./format-B277f_Zs.js";import"./scroll-h-G9ojMy.js";import"./QList-DjPXt8n1.js";import"./private.use-form-BW-aek5_.js";import"./index-Bg6kl5Kz.js";const E={class:"q-pa-md"},J={class:"text-h4 q-mb-md"},K={key:0,class:"flex justify-center q-pa-xl"},L={key:1,class:"text-negative q-pa-md"},W={key:2},X={class:"row items-center"},Z=["src","alt"],F={key:0,class:"full-width text-center q-pa-sm"},G=N({__name:"TeamsPage",setup(H){const{t:u}=A(),g=P(),s=v(!1),d=v(null),{teams:i,loading:h,refetch:b}=j.useTeams(16),w=c(()=>{var e;return((e=i.value)==null?void 0:e.teams.nodes)||[]}),f=c(()=>{var e;return((e=i.value)==null?void 0:e.teams.pageInfo.hasNextPage)||!1}),y=c(()=>{var e;return((e=i.value)==null?void 0:e.teams.totalCount)||0}),x=[{name:"team",label:u("teams.table.team"),field:"name",align:"left",sortable:!0},{name:"league",label:u("teams.table.league"),field:"league",align:"left",sortable:!0}],Q=async()=>{var e;if(!(!f.value||s.value)){s.value=!0;try{await b({first:20,after:(e=i.value)==null?void 0:e.teams.pageInfo.endCursor})}finally{s.value=!1}}},k=e=>e>=7?"positive":e>=6?"warning":"negative",C=(e,p)=>{g.push(`/teams/${p.id}`)};return(e,p)=>(l(),T(z,{padding:""},{default:t(()=>[r("div",E,[r("div",J,m(e.$t("teams.title")),1),q(h)?(l(),n("div",K,[o(B,{color:"primary",size:"3em"})])):d.value?(l(),n("div",L,m(d.value),1)):(l(),n("div",W,[o($,{rows:w.value,columns:x,loading:s.value,"row-key":"id",pagination:{rowsPerPage:16,rowsNumber:y.value},onRowClick:C},{"body-cell-team":t(a=>[o(_,{props:a},{default:t(()=>[r("div",X,[o(M,{hight:"32px",class:"q-mr-sm"},{default:t(()=>[r("img",{src:a.row.logo,alt:a.row.name},null,8,Z)]),_:2},1024),r("div",null,m(a.row.name),1)])]),_:2},1032,["props"])]),"body-cell-avgRating":t(a=>[o(_,{props:a},{default:t(()=>[o(S,{color:k(a.value),"text-color":"white",size:"sm"},{default:t(()=>[I(m(a.value),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),bottom:t(()=>[f.value?(l(),n("div",F,[o(V,{color:"primary",label:e.$t("teams.table.loadMore"),loading:s.value,onClick:Q},null,8,["label","loading"])])):R("",!0)]),_:1},8,["rows","loading","pagination"])]))])]),_:1}))}}),de=D(G,[["__scopeId","data-v-0b94024b"]]);export{de as default};
