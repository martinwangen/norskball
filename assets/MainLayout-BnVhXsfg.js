var ot=Object.defineProperty;var lt=(e,a,l)=>a in e?ot(e,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[a]=l;var ce=(e,a,l)=>lt(e,typeof a!="symbol"?a+"":a,l);import{l as J,h as E,c as g,m as pe,n as Pe,g as Ce,r as L,p as it,w as k,o as Se,Q as $,q as N,t as ne,a as Ve,u as W,v as Fe,x as $e,y as rt,z as ut,A as fe,B as X,C as ve,D as st,E as te,G as we,H as xe,I as dt,J as ct,K as Ee,L as M,M as Ae,N as Y,O as ft,d as vt,P as mt,R as T,S as z,U as c,f as d,V as ht,W as O,X as Ie,Y as me,Z as gt,_ as H,$ as bt}from"./index-B0VQveaP.js";import{Q as yt,a as Oe,b as Le,c as wt,d as pt,e as Ct}from"./QLayout-UIhuWJ_A.js";import{Q as St}from"./QTooltip-CFuJyv8v.js";import{Q as ze,a as F,b as x,c as he}from"./QList-zKzsZTH7.js";import{u as kt,a as _t,Q as Bt,c as qt,b as Dt,d as xt,e as Et,f as At,g as It,h as Ot}from"./use-prevent-scroll-D4LJUV1U.js";import{u as Lt,b as ae}from"./format-JhNblhKf.js";import{u as zt,a as Tt}from"./use-dark-lD2g5drB.js";import{C as Qt}from"./ClosePopup-C2uit85j.js";import{u as Mt}from"./use-quasar-DNOobXI3.js";import"./scroll-arY7zoUF.js";const Pt=J({name:"QSpace",setup(){const e=E("div",{class:"q-space"});return()=>e}}),Vt=J({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const l=g(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>E("div",{class:l.value},pe(a.default))}}),Ft=Object.keys(Pe);function $t(e){return Ft.reduce((a,l)=>{const r=e[l];return r!==void 0&&(a[l]=r),a},{})}const Ht=J({name:"QBtnDropdown",props:{...Pe,...kt,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:l}){const{proxy:r}=Ce(),t=L(e.modelValue),n=L(null),s=_t(),b=g(()=>{const w={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s.value,"aria-label":e.toggleAriaLabel||r.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(w["aria-disabled"]="true"),w}),p=g(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),f=g(()=>it(e)),i=g(()=>$t(e));k(()=>e.modelValue,w=>{var q;(q=n.value)==null||q[w?"show":"hide"]()}),k(()=>e.split,B);function S(w){t.value=!0,l("beforeShow",w)}function u(w){l("show",w),l("update:modelValue",!0)}function y(w){t.value=!1,l("beforeHide",w)}function m(w){l("hide",w),l("update:modelValue",!1)}function A(w){l("click",w)}function _(w){ne(w),B(),l("click",w)}function C(w){var q;(q=n.value)==null||q.toggle(w)}function v(w){var q;(q=n.value)==null||q.show(w)}function B(w){var q;(q=n.value)==null||q.hide(w)}return Object.assign(r,{show:v,hide:B,toggle:C}),Se(()=>{e.modelValue===!0&&v()}),()=>{const w=[E($,{class:p.value,name:e.dropdownIcon||r.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&w.push(E(Bt,{ref:n,id:s.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:u,onBeforeHide:y,onHide:m},a.default)),e.split===!1?E(N,{class:"q-btn-dropdown q-btn-dropdown--simple",...i.value,...b.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:A},{default:()=>pe(a.label,[]).concat(w),loading:a.loading}):E(Vt,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...f.value,glossy:e.glossy,stretch:e.stretch},()=>[E(N,{class:"q-btn-dropdown--current",...i.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:_},{default:a.label,loading:a.loading}),E(N,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...b.value,...f.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>w)])}}}),Rt=J({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:a,emit:l}){const{proxy:{$q:r}}=Ce(),t=Ve(Fe,W);if(t===W)return console.error("QHeader needs to be child of QLayout"),W;const n=L(parseInt(e.heightHint,10)),s=L(!0),b=g(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||r.platform.is.ios&&t.isContainer.value===!0),p=g(()=>{if(e.modelValue!==!0)return 0;if(b.value===!0)return s.value===!0?n.value:0;const v=n.value-t.scroll.value.position;return v>0?v:0}),f=g(()=>e.modelValue!==!0||b.value===!0&&s.value!==!0),i=g(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),S=g(()=>"q-header q-layout__section--marginal "+(b.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(f.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),u=g(()=>{const v=t.rows.value.top,B={};return v[0]==="l"&&t.left.space===!0&&(B[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),v[2]==="r"&&t.right.space===!0&&(B[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),B});function y(v,B){t.update("header",v,B)}function m(v,B){v.value!==B&&(v.value=B)}function A({height:v}){m(n,v),y("size",v)}function _(v){i.value===!0&&m(s,!0),l("focusin",v)}k(()=>e.modelValue,v=>{y("space",v),m(s,!0),t.animate()}),k(p,v=>{y("offset",v)}),k(()=>e.reveal,v=>{v===!1&&m(s,e.modelValue)}),k(s,v=>{t.animate(),l("reveal",v)}),k(t.scroll,v=>{e.reveal===!0&&m(s,v.direction==="up"||v.position<=e.revealOffset||v.position-v.inflectionPoint<100)});const C={};return t.instances.header=C,e.modelValue===!0&&y("size",n.value),y("space",e.modelValue),y("offset",p.value),$e(()=>{t.instances.header===C&&(t.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))}),()=>{const v=rt(a.default,[]);return e.elevated===!0&&v.push(E("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),v.push(E(yt,{debounce:0,onResize:A})),E("header",{class:S.value,style:u.value,onFocusin:_},v)}}}),ke={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Gt=Object.keys(ke);ke.all=!0;function Te(e){const a={};for(const l of Gt)e[l]===!0&&(a[l]=!0);return Object.keys(a).length===0?ke:(a.horizontal===!0?a.left=a.right=!0:a.left===!0&&a.right===!0&&(a.horizontal=!0),a.vertical===!0?a.up=a.down=!0:a.up===!0&&a.down===!0&&(a.vertical=!0),a.horizontal===!0&&a.vertical===!0&&(a.all=!0),a)}const Nt=["INPUT","TEXTAREA"];function Qe(e,a){return a.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof a.handler=="function"&&Nt.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(a.uid)===-1)}function ge(e,a,l){const r=we(e);let t,n=r.left-a.event.x,s=r.top-a.event.y,b=Math.abs(n),p=Math.abs(s);const f=a.direction;f.horizontal===!0&&f.vertical!==!0?t=n<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?t=s<0?"up":"down":f.up===!0&&s<0?(t="up",b>p&&(f.left===!0&&n<0?t="left":f.right===!0&&n>0&&(t="right"))):f.down===!0&&s>0?(t="down",b>p&&(f.left===!0&&n<0?t="left":f.right===!0&&n>0&&(t="right"))):f.left===!0&&n<0?(t="left",b<p&&(f.up===!0&&s<0?t="up":f.down===!0&&s>0&&(t="down"))):f.right===!0&&n>0&&(t="right",b<p&&(f.up===!0&&s<0?t="up":f.down===!0&&s>0&&(t="down")));let i=!1;if(t===void 0&&l===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,i=!0,t==="left"||t==="right"?(r.left-=n,b=0,n=0):(r.top-=s,p=0,s=0)}return{synthetic:i,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:r,direction:t,isFirst:a.event.isFirst,isFinal:l===!0,duration:Date.now()-a.event.time,distance:{x:b,y:p},offset:{x:n,y:s},delta:{x:r.left-a.event.lastX,y:r.top-a.event.lastY}}}}let Wt=0;const be=ut({name:"touch-pan",beforeMount(e,{value:a,modifiers:l}){if(l.mouse!==!0&&X.has.touch!==!0)return;function r(n,s){l.mouse===!0&&s===!0?ct(n):(l.stop===!0&&ne(n),l.prevent===!0&&xe(n))}const t={uid:"qvtp_"+Wt++,handler:a,modifiers:l,direction:Te(l),noop:st,mouseStart(n){Qe(n,t)&&dt(n)&&(te(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(n,!0))},touchStart(n){if(Qe(n,t)){const s=n.target;te(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),t.start(n)}},start(n,s){if(X.is.firefox===!0&&ve(e,!0),t.lastEvt=n,s===!0||l.stop===!0){if(t.direction.all!==!0&&(s!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const f=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&xe(f),n.cancelBubble===!0&&ne(f),Object.assign(f,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[t.uid]:n.qClonedBy.concat(t.uid)}),t.initialEvent={target:n.target,event:f}}ne(n)}const{left:b,top:p}=we(n);t.event={x:b,y:p,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:b,lastY:p}},move(n){if(t.event===void 0)return;const s=we(n),b=s.left-t.event.x,p=s.top-t.event.y;if(b===0&&p===0)return;t.lastEvt=n;const f=t.event.mouse===!0,i=()=>{r(n,f);let y;l.preserveCursor!==!0&&l.preservecursor!==!0&&(y=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qt(),t.styleCleanup=m=>{if(t.styleCleanup=void 0,y!==void 0&&(document.documentElement.style.cursor=y),document.body.classList.remove("non-selectable"),f===!0){const A=()=>{document.body.classList.remove("no-pointer-events--children")};m!==void 0?setTimeout(()=>{A(),m()},50):A()}else m!==void 0&&m()}};if(t.event.detected===!0){t.event.isFirst!==!0&&r(n,t.event.mouse);const{payload:y,synthetic:m}=ge(n,t,!1);y!==void 0&&(t.handler(y)===!1?t.end(n):(t.styleCleanup===void 0&&t.event.isFirst===!0&&i(),t.event.lastX=y.position.left,t.event.lastY=y.position.top,t.event.lastDir=m===!0?void 0:y.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||f===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){i(),t.event.detected=!0,t.move(n);return}const S=Math.abs(b),u=Math.abs(p);S!==u&&(t.direction.horizontal===!0&&S>u||t.direction.vertical===!0&&S<u||t.direction.up===!0&&S<u&&p<0||t.direction.down===!0&&S<u&&p>0||t.direction.left===!0&&S>u&&b<0||t.direction.right===!0&&S>u&&b>0?(t.event.detected=!0,t.move(n)):t.end(n,!0))},end(n,s){var b;if(t.event!==void 0){if(fe(t,"temp"),X.is.firefox===!0&&ve(e,!1),s===!0)(b=t.styleCleanup)==null||b.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(ge(n===void 0?t.lastEvt:n,t).payload);const{payload:p}=ge(n===void 0?t.lastEvt:n,t,!0),f=()=>{t.handler(p)};t.styleCleanup!==void 0?t.styleCleanup(f):f()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,l.mouse===!0){const n=l.mouseCapture===!0||l.mousecapture===!0?"Capture":"";te(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}X.has.touch===!0&&te(t,"main",[[e,"touchstart","touchStart",`passive${l.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const l=e.__qtouchpan;l!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&l.end(),l.handler=a.value),l.direction=Te(a.modifiers))},beforeUnmount(e){var l;const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),fe(a,"main"),fe(a,"temp"),X.is.firefox===!0&&ve(e,!1),(l=a.styleCleanup)==null||l.call(a),delete e.__qtouchpan)}}),Me=150,jt=J({name:"QDrawer",inheritAttrs:!1,props:{...xt,...zt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Dt,"onLayout","miniState"],setup(e,{slots:a,emit:l,attrs:r}){const t=Ce(),{proxy:{$q:n}}=t,s=Tt(e,n),{preventBodyScroll:b}=It(),{registerTimeout:p,removeTimeout:f}=Lt(),i=Ve(Fe,W);if(i===W)return console.error("QDrawer needs to be child of QLayout"),W;let S,u=null,y;const m=L(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),A=g(()=>e.mini===!0&&m.value!==!0),_=g(()=>A.value===!0?e.miniWidth:e.width),C=L(e.showIfAbove===!0&&m.value===!1?!0:e.modelValue===!0),v=g(()=>e.persistent!==!0&&(m.value===!0||Ge.value===!0));function B(o,h){if(He(),o!==!1&&i.animate(),I(0),m.value===!0){const D=i.instances[Z.value];(D==null?void 0:D.belowBreakpoint)===!0&&D.hide(!1),P(1),i.isContainer.value!==!0&&b(!0)}else P(0),o!==!1&&ue(!1);p(()=>{o!==!1&&ue(!0),h!==!0&&l("show",o)},Me)}function w(o,h){Re(),o!==!1&&i.animate(),P(0),I(R.value*_.value),se(),h!==!0?p(()=>{l("hide",o)},Me):f()}const{show:q,hide:j}=Et({showing:C,hideOnRouteChange:v,handleShow:B,handleHide:w}),{addToHistory:He,removeFromHistory:Re}=At(C,j,v),K={belowBreakpoint:m,hide:j},Q=g(()=>e.side==="right"),R=g(()=>(n.lang.rtl===!0?-1:1)*(Q.value===!0?1:-1)),_e=L(0),G=L(!1),oe=L(!1),Be=L(_.value*R.value),Z=g(()=>Q.value===!0?"left":"right"),le=g(()=>C.value===!0&&m.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:_.value:0),ie=g(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(Q.value?"R":"L")!==-1||n.platform.is.ios===!0&&i.isContainer.value===!0),U=g(()=>e.overlay===!1&&C.value===!0&&m.value===!1),Ge=g(()=>e.overlay===!0&&C.value===!0&&m.value===!1),Ne=g(()=>"fullscreen q-drawer__backdrop"+(C.value===!1&&G.value===!1?" hidden":"")),We=g(()=>({backgroundColor:`rgba(0,0,0,${_e.value*.4})`})),qe=g(()=>Q.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),je=g(()=>Q.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),Ue=g(()=>{const o={};return i.header.space===!0&&qe.value===!1&&(ie.value===!0?o.top=`${i.header.offset}px`:i.header.space===!0&&(o.top=`${i.header.size}px`)),i.footer.space===!0&&je.value===!1&&(ie.value===!0?o.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(o.bottom=`${i.footer.size}px`)),o}),Xe=g(()=>{const o={width:`${_.value}px`,transform:`translateX(${Be.value}px)`};return m.value===!0?o:Object.assign(o,Ue.value)}),Ye=g(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),Je=g(()=>`q-drawer q-drawer--${e.side}`+(oe.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(G.value===!0?" no-transition":C.value===!0?"":" q-layout--prevent-focus")+(m.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${A.value===!0?"mini":"standard"}`+(ie.value===!0||U.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(qe.value===!0?" q-drawer--top-padding":""))),Ke=g(()=>{const o=n.lang.rtl===!0?e.side:Z.value;return[[be,at,void 0,{[o]:!0,mouse:!0}]]}),Ze=g(()=>{const o=n.lang.rtl===!0?Z.value:e.side;return[[be,De,void 0,{[o]:!0,mouse:!0}]]}),et=g(()=>{const o=n.lang.rtl===!0?Z.value:e.side;return[[be,De,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function re(){nt(m,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}k(m,o=>{o===!0?(S=C.value,C.value===!0&&j(!1)):e.overlay===!1&&e.behavior!=="mobile"&&S!==!1&&(C.value===!0?(I(0),P(0),se()):q(!1))}),k(()=>e.side,(o,h)=>{i.instances[h]===K&&(i.instances[h]=void 0,i[h].space=!1,i[h].offset=0),i.instances[o]=K,i[o].size=_.value,i[o].space=U.value,i[o].offset=le.value}),k(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&re()}),k(()=>e.behavior+e.breakpoint,re),k(i.isContainer,o=>{C.value===!0&&b(o!==!0),o===!0&&re()}),k(i.scrollbarWidth,()=>{I(C.value===!0?0:void 0)}),k(le,o=>{V("offset",o)}),k(U,o=>{l("onLayout",o),V("space",o)}),k(Q,()=>{I()}),k(_,o=>{I(),de(e.miniToOverlay,o)}),k(()=>e.miniToOverlay,o=>{de(o,_.value)}),k(()=>n.lang.rtl,()=>{I()}),k(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(tt(),i.animate())}),k(A,o=>{l("miniState",o)});function I(o){o===void 0?Ee(()=>{o=C.value===!0?0:_.value,I(R.value*o)}):(i.isContainer.value===!0&&Q.value===!0&&(m.value===!0||Math.abs(o)===_.value)&&(o+=R.value*i.scrollbarWidth.value),Be.value=o)}function P(o){_e.value=o}function ue(o){const h=o===!0?"remove":i.isContainer.value!==!0?"add":"";h!==""&&document.body.classList[h]("q-body--drawer-toggle")}function tt(){u!==null&&clearTimeout(u),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),oe.value=!0,u=setTimeout(()=>{var o,h;u=null,oe.value=!1,(h=(o=t==null?void 0:t.proxy)==null?void 0:o.$el)==null||h.classList.remove("q-drawer--mini-animate")},150)}function at(o){if(C.value!==!1)return;const h=_.value,D=ae(o.distance.x,0,h);if(o.isFinal===!0){D>=Math.min(75,h)===!0?q():(i.animate(),P(0),I(R.value*h)),G.value=!1;return}I((n.lang.rtl===!0?Q.value!==!0:Q.value)?Math.max(h-D,0):Math.min(0,D-h)),P(ae(D/h,0,1)),o.isFirst===!0&&(G.value=!0)}function De(o){if(C.value!==!0)return;const h=_.value,D=o.direction===e.side,ee=(n.lang.rtl===!0?D!==!0:D)?ae(o.distance.x,0,h):0;if(o.isFinal===!0){Math.abs(ee)<Math.min(75,h)===!0?(i.animate(),P(1),I(0)):j(),G.value=!1;return}I(R.value*ee),P(ae(1-ee/h,0,1)),o.isFirst===!0&&(G.value=!0)}function se(){b(!1),ue(!0)}function V(o,h){i.update(e.side,o,h)}function nt(o,h){o.value!==h&&(o.value=h)}function de(o,h){V("size",o===!0?e.miniWidth:h)}return i.instances[e.side]=K,de(e.miniToOverlay,_.value),V("space",U.value),V("offset",le.value),e.showIfAbove===!0&&e.modelValue!==!0&&C.value===!0&&e["onUpdate:modelValue"]!==void 0&&l("update:modelValue",!0),Se(()=>{l("onLayout",U.value),l("miniState",A.value),S=e.showIfAbove===!0;const o=()=>{(C.value===!0?B:w)(!1,!0)};if(i.totalWidth.value!==0){Ee(o);return}y=k(i.totalWidth,()=>{y(),y=void 0,C.value===!1&&e.showIfAbove===!0&&m.value===!1?q(!1):o()})}),$e(()=>{y==null||y(),u!==null&&(clearTimeout(u),u=null),C.value===!0&&se(),i.instances[e.side]===K&&(i.instances[e.side]=void 0,V("size",0),V("offset",0),V("space",!1))}),()=>{const o=[];m.value===!0&&(e.noSwipeOpen===!1&&o.push(M(E("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ke.value)),o.push(Ae("div",{ref:"backdrop",class:Ne.value,style:We.value,"aria-hidden":"true",onClick:j},void 0,"backdrop",e.noSwipeBackdrop!==!0&&C.value===!0,()=>et.value)));const h=A.value===!0&&a.mini!==void 0,D=[E("div",{...r,key:""+h,class:[Ye.value,r.class]},h===!0?a.mini():pe(a.default))];return e.elevated===!0&&C.value===!0&&D.push(E("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(Ae("aside",{ref:"content",class:Je.value,style:Xe.value},D,"contentclose",e.noSwipeClose!==!0&&m.value===!0,()=>Ze.value)),E("div",{class:"q-drawer-container"},o)}}});class Ut{constructor(){ce(this,"initialized",!1);ce(this,"clientId");this.clientId="266076307059-pfaiq2uh5l0dnd0t3q5p8cs7s1i7ilk2.apps.googleusercontent.com",this.clientId||console.error("Google Client ID is not configured. Please set VITE_GOOGLE_CLIENT_ID in your .env file")}async initializeGoogleSignIn(){if(!this.initialized){if(!this.clientId)throw new Error("Google Client ID is not configured. Please set VITE_GOOGLE_CLIENT_ID in your .env file");return new Promise((a,l)=>{const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=()=>{try{window.google.accounts.id.initialize({client_id:this.clientId,callback:this.handleCredentialResponse.bind(this),auto_select:!1,cancel_on_tap_outside:!0}),this.initialized=!0,a()}catch(t){console.error("Error initializing Google Sign-In:",t),l(new Error("Failed to initialize Google Sign-In. Please check your client ID and configuration."))}},r.onerror=()=>{console.error("Error loading Google Sign-In script"),l(new Error("Failed to load Google Sign-In script. Please check your internet connection."))},document.head.appendChild(r)})}}async handleCredentialResponse(a){if(a.credential){const l=Y();try{const r=JSON.parse(atob(a.credential.split(".")[1])),t={idToken:a.credential,email:r.email,name:r.name,picture:r.picture};await l.loginWithGoogle(t)}catch(r){throw console.error("Error handling Google credential:",r),r}}}decodeJwt(a){try{const r=a.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(r).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(l){throw console.error("Error decoding JWT:",l),l}}async signIn(){this.initialized||await this.initializeGoogleSignIn(),window.google.accounts.id.prompt()}async signOut(){const a=Y();window.google.accounts.id.disableAutoSelect(),a.logout(),await ft.clearStore()}async checkAuth(){await Y().checkAuth()}isAuthenticated(){return Y().isAuthenticated}}const ye=new Ut,Xt={key:0,class:"row items-center"},Yt={class:"text-caption"},sa=vt({__name:"MainLayout",setup(e){const a=Mt(),l=Y(),r=L(!1),t=L(!1),{user:n}=l;a.dark.toggle();const s=g(()=>a.dark.isActive);function b(){r.value=!r.value}function p(){a.dark.toggle()}async function f(){t.value=!0;try{await ye.signIn()}catch(S){console.error("Failed to sign in:",S),a.notify({color:"negative",message:S instanceof Error?S.message:"Failed to sign in",position:"top",timeout:5e3})}finally{t.value=!1}}async function i(){await ye.signOut()}return Se(async()=>{try{await ye.initializeGoogleSignIn()}catch(S){console.error("Failed to initialize Google Sign-In:",S),a.notify({color:"negative",message:S instanceof Error?S.message:"Failed to initialize Google Sign-In",position:"top",timeout:5e3})}}),(S,u)=>{const y=mt("router-view");return z(),T(Ct,{view:"hHh lpR fFf",container:"",style:{height:"100vh"}},{default:c(()=>[d(Rt,{class:"bg-primary text-white"},{default:c(()=>[d(Oe,null,{default:c(()=>{var m;return[d(N,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:b}),d(Le,null,{default:c(()=>u[1]||(u[1]=[O(" Norskball ")])),_:1}),d(Pt),d(N,{flat:"",round:"",icon:s.value?"dark_mode":"light_mode",onClick:p,"aria-label":s.value?"Switch to light mode":"Switch to dark mode"},{default:c(()=>[d(St,null,{default:c(()=>[O(Ie(s.value?"Switch to light mode":"Switch to dark mode"),1)]),_:1})]),_:1},8,["icon","aria-label"]),me(l).isAuthenticated?(z(),ht("div",Xt,[d(Ht,{flat:"",label:(m=me(n))==null?void 0:m.name},{default:c(()=>[d(ze,null,{default:c(()=>[M((z(),T(F,{clickable:"",onClick:i},{default:c(()=>[d(x,null,{default:c(()=>[d(he,null,{default:c(()=>u[2]||(u[2]=[O("Logout")])),_:1})]),_:1})]),_:1})),[[Qt]])]),_:1})]),_:1},8,["label"])])):(z(),T(N,{key:1,flat:"",label:"Login",onClick:f,loading:t.value},null,8,["loading"]))]}),_:1})]),_:1}),d(jt,{modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=m=>r.value=m),"show-if-above":"",width:200,breakpoint:500,bordered:""},{default:c(()=>[d(ze,null,{default:c(()=>[d(he,{header:"",class:"text-grey-8"},{default:c(()=>u[3]||(u[3]=[O(" Navigation ")])),_:1}),M((z(),T(F,{clickable:"",to:"/",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"home"})]),_:1}),d(x,null,{default:c(()=>u[4]||(u[4]=[O(" Home ")])),_:1})]),_:1})),[[H]]),M((z(),T(F,{clickable:"",to:"/teams",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"groups"})]),_:1}),d(x,null,{default:c(()=>u[5]||(u[5]=[O(" Teams ")])),_:1})]),_:1})),[[H]]),M((z(),T(F,{clickable:"",to:"/players",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"sports"})]),_:1}),d(x,null,{default:c(()=>u[6]||(u[6]=[O(" Players ")])),_:1})]),_:1})),[[H]]),M((z(),T(F,{clickable:"",to:"/matches",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"sports_soccer"})]),_:1}),d(x,null,{default:c(()=>u[7]||(u[7]=[O(" Matches ")])),_:1})]),_:1})),[[H]]),M((z(),T(F,{clickable:"",to:"/statistics",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"analytics"})]),_:1}),d(x,null,{default:c(()=>u[8]||(u[8]=[O(" Statistics ")])),_:1})]),_:1})),[[H]]),me(l).isAuthenticated?M((z(),T(F,{key:0,clickable:"",to:"/ratings",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"star"})]),_:1}),d(x,null,{default:c(()=>u[9]||(u[9]=[O(" Ratings ")])),_:1})]),_:1})),[[H]]):gt("",!0),d(Ot),d(he,{header:"",class:"text-grey-8"},{default:c(()=>u[10]||(u[10]=[O(" Leagues ")])),_:1}),M((z(),T(F,{clickable:"",to:"/leagues/eliteserien",exact:""},{default:c(()=>[d(x,{avatar:""},{default:c(()=>[d($,{name:"emoji_events"})]),_:1}),d(x,null,{default:c(()=>u[11]||(u[11]=[O(" Eliteserien ")])),_:1})]),_:1})),[[H]])]),_:1})]),_:1},8,["modelValue"]),d(wt,null,{default:c(()=>[d(y)]),_:1}),d(pt,{elevated:"",class:"bg-grey-8 text-white"},{default:c(()=>[d(Oe,null,{default:c(()=>[d(Le,null,{default:c(()=>[bt("div",Yt," © "+Ie(new Date().getFullYear())+" Football Ratings App ",1)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{sa as default};
