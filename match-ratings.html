<!-- Match Ratings Container -->
<div id="match-ratings-container" style="font-family: Arial, sans-serif; padding: 20px; max-width: 1200px; margin: 0 auto; position: relative;">
    <div id="sponsor-logos" style="position: absolute; top: 10px; left: 10px; right: 10px; display: flex; justify-content: space-between; align-items: center;">
        <svg viewBox="0 0 145 15" fill="none" xmlns="http://www.w3.org/2000/svg" style="height: 15px; opacity: 0.7;">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M127.807 7.98898H124.225V1.73328H127.928C130.182 1.73328 131.209 3.42322 131.209 4.99412C131.209 5.69655 130.967 7.98898 127.807 7.98898ZM131.151 10.3211C130.759 9.72814 130.404 9.21161 130.037 8.81484C132.428 7.9471 132.624 5.66275 132.624 4.97355C132.624 2.77957 131.184 0.565026 127.965 0.565026H122.912L122.884 0.668626V14.6334H124.221V9.15944H127.864L128.567 9.13005C129.06 9.47612 129.578 10.1249 130.401 11.4416C130.401 11.4416 130.749 11.9611 132.459 14.4967L132.586 14.6561H134.094L131.148 10.324V10.3226L131.151 10.3211ZM98.478 7.9133V1.65467H102.182C104.433 1.65467 105.46 3.3446 105.46 4.9155C105.46 5.61866 105.216 7.9133 102.06 7.9133H98.478ZM102.22 0.483468H97.1672L97.1396 0.587068V14.6679H98.4736V9.08082H102.12C106.536 9.08082 106.879 5.87583 106.879 4.89493C106.879 2.69949 105.439 0.483468 102.22 0.483468ZM79.8671 0.310066C79.248 0.310066 78.7484 0.816311 78.7484 1.44379C78.7484 1.44379 78.523 5.98457 78.523 8.53049C75.9405 6.57017 68.6093 0.540044 68.6093 0.540044C68.27 0.28288 67.8168 0.238795 67.4391 0.432035C67.0592 0.625276 66.8185 1.0169 66.8185 1.44747V13.5342C66.8185 14.1594 67.3188 14.6657 67.9379 14.6657C68.5571 14.6657 69.0559 14.1594 69.0559 13.5342C69.0559 13.5342 69.2777 10.6613 69.2777 7.52388L79.1921 14.4372C79.5336 14.6973 79.9868 14.737 80.3645 14.5452C80.7429 14.3519 80.9836 13.9603 80.9836 13.5312V1.44453C80.9851 0.816312 80.4863 0.310066 79.8671 0.310066ZM114.564 13.4769C111.527 13.4769 109.565 11.1345 109.565 7.51286C109.565 3.95959 111.527 1.66495 114.564 1.66495C117.626 1.66495 119.526 3.90522 119.526 7.51286C119.526 11.1359 117.578 13.4769 114.567 13.4769H114.564ZM114.524 0.425422C110.733 0.425422 108.186 3.27333 108.186 7.51286C108.186 11.8207 110.734 14.7142 114.524 14.7142C118.339 14.7142 120.902 11.8207 120.902 7.51286C120.902 3.27333 118.339 0.425422 114.524 0.425422ZM133.66 0.547392V1.68479H138.682V14.6503H139.979V1.68479H145V0.547392H133.66ZM90.4573 6.79794C88.8854 6.25569 87.4028 5.74284 87.4028 4.15283C87.4028 2.85011 88.6955 1.75092 90.2861 1.7061L94.3491 1.70904V0.46363H90.2847C88.0154 0.46363 86.0289 2.20647 86.0289 4.19177C86.0289 6.6025 87.9487 7.27994 89.8062 7.93534C91.4621 8.518 93.0238 9.06907 93.0238 10.8303C93.0238 12.2278 91.5767 13.2807 90.2253 13.3865H85.8578V14.6385H89.63L89.6199 14.6297L90.0433 14.6392C92.4068 14.6392 94.4005 12.8773 94.4005 10.7906C94.4005 8.16018 92.3952 7.46951 90.4587 6.80088V6.79941L90.4573 6.79794ZM32.2025 0.363703C31.5841 0.363703 31.0831 0.870683 31.0831 1.49669C31.0831 1.49669 30.8946 6.07568 30.8946 8.62307C28.3114 6.65687 20.9461 0.590742 20.9461 0.590742C20.6053 0.333578 20.1544 0.289493 19.7737 0.483468C19.3946 0.674504 19.1575 1.06613 19.1575 1.49522V13.5834C19.1575 14.2079 19.6577 14.7134 20.2755 14.7134C20.8917 14.7134 21.392 14.2079 21.392 13.5819C21.392 13.5819 21.5565 10.6539 21.5565 7.51653L31.5311 14.4879C31.869 14.748 32.3228 14.7884 32.702 14.5974C33.0812 14.4041 33.3204 14.0125 33.3204 13.5834V1.49743C33.319 0.872888 32.8187 0.364438 32.201 0.364438V0.362968L32.2025 0.363703ZM60.5001 11.5437C59.4764 12.5687 57.3369 11.4835 54.629 9.48347C52.4228 7.85672 50.8837 5.23806 52.599 3.53711C54.223 1.92285 56.8258 3.38354 58.4679 5.59515C60.3529 8.13226 61.6289 10.4115 60.5001 11.5437ZM51.3404 2.26231C48.4694 5.17414 48.4679 9.90742 51.3404 12.8178C54.2114 15.7274 58.8833 15.7274 61.7558 12.8178C64.6268 9.90742 64.6268 5.17193 61.7558 2.26304C58.8833 -0.646584 54.2121 -0.644379 51.3404 2.26231ZM17.1804 12.9427L9.61137 0.550331L9.58672 0.515062L9.57802 0.501837L9.44607 0.339456L9.44245 0.335782L9.2902 0.205731L9.24452 0.177076L9.12635 0.110948L8.99584 0.0595151L8.92334 0.0360029L8.79429 0.0110213H8.78704L8.64784 0L8.56084 0.00146951C8.20197 0.0235121 7.88876 0.207201 7.69374 0.486407L7.65241 0.554004L0.235626 12.4864L0.228376 12.4989L0.148626 12.6267L0.153701 12.6282C0.0558253 12.8193 0 13.0345 0 13.2638C0 14.0287 0.611903 14.6488 1.36663 14.6488C1.78423 14.6488 2.15834 14.4578 2.40919 14.1594V14.1609L2.41499 14.1521L2.53389 13.9831C2.79199 13.6143 3.42564 12.7046 4.13615 11.6716C5.83048 8.95665 4.2362 6.07935 4.2362 6.07935L7.33196 8.46436C9.7049 10.2035 15.5419 14.4974 15.5419 14.4974C15.9842 14.8185 16.5881 14.781 16.9883 14.4041C17.387 14.025 17.4668 13.4181 17.1811 12.9478L17.1804 12.9427ZM48.1794 0.363703H36.2502C35.6339 0.363703 35.1337 0.870683 35.1337 1.49669C35.1337 2.1227 35.6325 2.62968 36.2502 2.62968L39.7614 2.92579L41.1055 13.7245C41.1744 14.291 41.6529 14.7164 42.2126 14.7164C42.7781 14.7164 43.2552 14.2946 43.324 13.7245L44.7472 2.92579L48.1787 2.62968C48.7949 2.62968 49.2973 2.1227 49.2973 1.49669C49.2981 0.872153 48.7949 0.363703 48.1794 0.363703Z" fill="#FF5200"/>
        </svg>
        <svg viewBox="0 0 620.32 193.08" xmlns="http://www.w3.org/2000/svg" style="height: 20px; opacity: 0.7;">
            <path fill="#ff303b" d="M613.09,123.11v-.02c-4.71-5.25-11.14-9.3-19.13-12.05-7.71-2.7-16.77-5.11-26.9-7.16-4.4-.92-8.37-1.89-11.82-2.88-.88-.26-1.76-.52-2.55-.76-.41-.14-.79-.28-1.19-.43l-.3-.11c-4.37-1.82-7.17-4.8-8.31-8.85-1.13-3.97-.14-8.5,2.64-12.09,2.12-2.75,6.06-6.13,12.67-6.59,14.14-.53,21.8,11.5,22.55,19.73l.2,2.28,34.83.2-.41-2.89c-1.89-13.13-7.78-23.56-17.51-31.02-9.58-7.34-22.64-11.07-39.09-11.07h-.03c-11.68.08-21.76,2.04-29.94,5.83-8.37,3.89-14.84,9.18-19.21,15.7-4.42,6.54-6.63,14.08-6.59,22.41.04,6.93,1.6,12.82,4.64,17.5,3.01,4.64,7.07,8.49,12.08,11.44,4.86,2.84,10.45,5.22,16.61,7.07,5.87,1.76,12.14,3.29,18.6,4.53,3.91.81,7.52,1.66,10.71,2.51.93.28,9.17,2.91,12.26,9.09,1.47,2.95,2.16,6.49.77,10.27-1.3,3.54-4.19,6.38-6.93,8.22-2.79,1.87-6.07,2.94-9.7,3.19-.31,0-.62.01-.93.01-15.13,0-22.51-12.53-23.61-20.6l-.15-1.09h-37.97l.16,1.4c.93,8.39,3.95,16.04,8.97,22.75,5.29,7.05,12.68,12.63,21.93,16.59,8.99,3.85,19.72,5.8,31.91,5.8h.39c11.56-.04,21.76-1.99,30.32-5.82,8.59-3.84,15.37-9.28,20.16-16.19,4.77-6.97,7.16-14.96,7.11-23.74-.04-9.96-2.47-17.75-7.22-23.16Z"/>
            <path fill="#ff303b" d="M481.09,82.43c-5.64-10.09-13.62-18.18-23.71-24.05-9.99-5.85-21.82-8.82-35.46-8.82-13.81.08-26.1,3.29-36.53,9.51-10.53,6.26-18.75,14.96-24.45,25.86-5.68,10.84-8.52,23.47-8.44,37.56.04,13.72,3.04,26.01,8.92,36.53,5.95,10.52,14.29,18.79,24.8,24.55,10.44,5.73,22.47,8.63,35.77,8.63h.55c10.5-.04,20.22-2.08,28.91-6.07,8.52-3.93,15.88-9.43,21.88-16.35,5.76-6.69,9.96-14.32,12.49-22.67l.49-1.63h-39.6l-.27.91c-3.03,10.28-10.04,15.58-22.01,16.66-19.35.83-30.21-15.2-32.25-30.85l96.66-.44.31-2.16c.33-2.4.5-4.7.5-7.02l-.04-5.85c-.04-12.65-2.91-24.18-8.52-34.28ZM394.38,108.05c-.34-8.92,2.98-18.96,8.64-25.88,4.75-5.81,10.8-9.21,17.41-9.82,20.11-.84,27.86,20.91,29.81,35.7h-55.85Z"/>
            <path fill="#ff303b" d="M250.86,2.62h-.14c-6.19.02-11.38,2.06-15.42,6.05-4.05,3.99-6.09,9.1-6.07,15.17.02,6.07,2.11,11.16,6.19,15.12,4.04,3.92,9.2,5.91,15.32,5.91h.14c6.34-.02,11.61-2.06,15.66-6.05,4.05-3.99,6.09-9.09,6.07-15.17-.02-6.07-2.11-11.16-6.19-15.12-4.05-3.92-9.28-5.9-15.56-5.9Z"/>
            <path fill="#ff303b" d="M161.31.91c-16.39,51.36-42.67,93.15-58.61,93.15S60.53,52.27,44.14.91l-.28-.88L0,0v193.04h39.16v-109.21c20.4,30.85,41.75,46.48,63.58,46.48h0c21.75,0,43.09-15.62,63.49-46.44v109.17h39.16V0l-43.82.03-.28.88Z"/>
            <rect fill="#ff303b" x="231.34" y="60.32" width="39.16" height="132.76"/>
            <rect fill="#ff303b" x="296.71" y=".07" width="39.16" height="193.01"/>
        </svg>
    </div>
    <div id="match-selector" style="margin-bottom: 20px; text-align: center;">
        <div id="match-buttons" style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; padding: 0 10px;">
            <!-- Match buttons will be inserted here -->
        </div>
    </div>
    <div id="match-ratings-content">
        Loading match ratings...
    </div>
</div>

<style>
:root {
    --primary-color: #1a73e8;
    --secondary-color: #f8f9fa;
    --border-color: #e0e0e0;
    --text-color: #202124;
    --header-bg: #f8f9fa;
    --rating-high: #34a853;
    --rating-medium: #fbbc05;
    --rating-low: #ea4335;
}

body {
    background-color: #f5f5f5;
    margin: 0;
    padding: 0;
}

#match-ratings-container {
    background-color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-radius: 8px;
}

.match-button {
    background-color: var(--secondary-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 10px 20px;
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 200px;
    max-width: 300px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.match-button:hover {
    background-color: #e8e8e8;
    border-color: #ccc;
}

.match-button.active {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.match-card {
    background-color: white;
    border: 1px solid var(--border-color);
    border-radius: 8px;
    margin-bottom: 20px;
    padding: 20px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

.match-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
}

.team-logo {
    max-height: 60px;
    margin-bottom: 10px;
    transition: transform 0.2s ease;
}

.team-logo:hover {
    transform: scale(1.05);
}

.score {
    font-size: 2em;
    font-weight: bold;
    color: var(--primary-color);
}

.player-section {
    margin-bottom: 30px;
}

.player-section h4 {
    color: var(--text-color);
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 2px solid var(--border-color);
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
    background-color: white;
}

th {
    background-color: var(--header-bg);
    padding: 12px 8px;
    text-align: left;
    font-weight: 600;
    color: var(--text-color);
    border-bottom: 2px solid var(--border-color);
}

td {
    padding: 10px 8px;
    border-bottom: 1px solid var(--border-color);
}

tr:hover {
    background-color: #f8f9fa;
}

.rating {
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 4px;
}

.rating-high {
    background-color: var(--rating-high);
    color: white;
}

.rating-medium {
    background-color: var(--rating-medium);
    color: white;
}

.rating-low {
    background-color: var(--rating-low);
    color: white;
}

@media (max-width: 768px) {
    #match-ratings-container {
        padding: 10px;
    }
    
    .match-button {
        width: 100%;
        margin-bottom: 8px;
        font-size: 13px !important;
        padding: 8px 12px !important;
    }
    
    .match-header {
        flex-direction: column !important;
        gap: 15px !important;
    }
    
    .match-header > div {
        flex: none !important;
    }
    
    .match-content {
        grid-template-columns: 1fr !important;
        gap: 15px !important;
    }
    
    .team-logo {
        max-height: 40px !important;
    }
    
    .score {
        font-size: 1.5em !important;
    }
    
    table {
        font-size: 14px;
    }
    
    th, td {
        padding: 8px !important;
    }
}
</style>

<script>

async function fetchMatchRatings() {
    try {
        const response = await fetch('https://norskball-backend.onrender.com/api/matches/ratings/elementor');
        
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const data = await response.json();
        
        // Return mock data if the response is empty or has no items
        if (!data || !data.items || data.items.length === 0) {
            return { empty: true };
        }
        
        return data;
    } catch (error) {
        console.error('Error fetching match ratings:', error);
        return { error: error.message };
    }
}

function formatDate(dateString) {
    const date = new Date(dateString);
    return date.toLocaleDateString('nb-NO', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        hour: '2-digit',
        minute: '2-digit'
    });
}

function capitalizeName(name) {
    return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();
}

function getRatingClass(rating) {
    if (!rating) return '';
    if (rating >= 7) return 'rating-high';
    if (rating >= 5) return 'rating-medium';
    return 'rating-low';
}

function sortPlayersByPosition(players) {
    return [...players].sort((a, b) => {
        const posA = parseInt(a.position);
        const posB = parseInt(b.position);
        return posA - posB;
    });
}

function separatePlayers(players) {
    const starters = players.filter(player => parseInt(player.position) <= 11);
    const substitutes = players.filter(player => parseInt(player.position) > 11);
    return { starters, substitutes };
}

function createMatchSelector(matches) {
    const buttonsContainer = document.getElementById('match-buttons');
    if (!buttonsContainer) return;

    // Clear existing buttons
    buttonsContainer.innerHTML = '';

    // Add match buttons
    matches.forEach((match, index) => {
        const button = document.createElement('button');
        button.className = 'match-button';
        button.style.cssText = `
            padding: 10px 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f8f8f8;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s ease;
            min-width: 200px;
            max-width: 300px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        `;
        button.textContent = `${match.homeTeam.name} vs ${match.awayTeam.name}`;
        
        // Add hover effect
        button.onmouseover = () => {
            button.style.backgroundColor = '#e8e8e8';
            button.style.borderColor = '#ccc';
        };
        button.onmouseout = () => {
            button.style.backgroundColor = '#f8f8f8';
            button.style.borderColor = '#ddd';
        };

        // Add click handler
        button.onclick = () => {
            // Remove active class from all buttons
            document.querySelectorAll('.match-button').forEach(btn => {
                btn.style.backgroundColor = '#f8f8f8';
                btn.style.borderColor = '#ddd';
            });
            
            // Add active class to clicked button
            button.style.backgroundColor = '#e0e0e0';
            button.style.borderColor = '#999';
            
            // Display selected match
            displayMatchRatings({ items: [match] });
        };

        buttonsContainer.appendChild(button);
    });

    // Set first button as active by default
    if (buttonsContainer.firstChild) {
        buttonsContainer.firstChild.style.backgroundColor = '#e0e0e0';
        buttonsContainer.firstChild.style.borderColor = '#999';
    }
}

function displayMatchRatings(data) {
    const container = document.getElementById('match-ratings-content');
    if (!container) return;

    if (!data.items || data.items.length === 0) {
        container.innerHTML = '<p>Ingen kamper funnet</p>';
        return;
    }

    if (!document.getElementById('match-buttons').children.length) {
        createMatchSelector(data.items);
    }

    const matchesHtml = data.items.map(match => {
        const homePlayers = sortPlayersByPosition(match.homeTeam.lineup.players);
        const awayPlayers = sortPlayersByPosition(match.awayTeam.lineup.players);
        
        const homePlayersSeparated = separatePlayers(homePlayers);
        const awayPlayersSeparated = separatePlayers(awayPlayers);

        return `
        <div class="match-card">
            <div class="match-header">
                <div style="flex: 1; text-align: center;">
                    <img src="${match.homeTeam.logo}" alt="${match.homeTeam.name}" class="team-logo">
                    <h3 style="margin: 0;">${match.homeTeam.name}</h3>
                </div>
                <div style="flex: 1; text-align: center;">
                    <h2 class="score">${match.score.homeTeamScore} - ${match.score.awayTeamScore}</h2>
                    <p style="margin: 5px 0;">${formatDate(match.scheduledDate)}</p>
                </div>
                <div style="flex: 1; text-align: center;">
                    <img src="${match.awayTeam.logo}" alt="${match.awayTeam.name}" class="team-logo">
                    <h3 style="margin: 0;">${match.awayTeam.name}</h3>
                </div>
            </div>
            
            <div class="match-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>${match.homeTeam.name} - Spillervurderinger</h4>
                    
                    <div class="player-section">
                        <h4>Startellever</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Spiller</th>
                                    <th style="text-align: center;">Vurdering</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${homePlayersSeparated.starters.map(player => `
                                    <tr>
                                        <td>${player.position}</td>
                                        <td>${capitalizeName(player.firstName)} ${capitalizeName(player.lastName)}</td>
                                        <td style="text-align: center;">
                                            <span class="rating ${getRatingClass(player.averageRating)}">
                                                ${player.averageRating || '-'}
                                            </span>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>

                    <div class="player-section">
                        <h4>Innbyttere</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Spiller</th>
                                    <th style="text-align: center;">Vurdering</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${homePlayersSeparated.substitutes.map(player => `
                                    <tr>
                                        <td>${player.position}</td>
                                        <td>${capitalizeName(player.firstName)} ${capitalizeName(player.lastName)}</td>
                                        <td style="text-align: center;">
                                            <span class="rating ${getRatingClass(player.averageRating)}">
                                                ${player.averageRating || '-'}
                                            </span>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>

                <div>
                    <h4>${match.awayTeam.name} - Spillervurderinger</h4>
                    
                    <div class="player-section">
                        <h4>Startellever</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Spiller</th>
                                    <th style="text-align: center;">Vurdering</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${awayPlayersSeparated.starters.map(player => `
                                    <tr>
                                        <td>${player.position}</td>
                                        <td>${capitalizeName(player.firstName)} ${capitalizeName(player.lastName)}</td>
                                        <td style="text-align: center;">
                                            <span class="rating ${getRatingClass(player.averageRating)}">
                                                ${player.averageRating || '-'}
                                            </span>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>

                    <div class="player-section">
                        <h4>Innbyttere</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Pos</th>
                                    <th>Spiller</th>
                                    <th style="text-align: center;">Vurdering</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${awayPlayersSeparated.substitutes.map(player => `
                                    <tr>
                                        <td>${player.position}</td>
                                        <td>${capitalizeName(player.firstName)} ${capitalizeName(player.lastName)}</td>
                                        <td style="text-align: center;">
                                            <span class="rating ${getRatingClass(player.averageRating)}">
                                                ${player.averageRating || '-'}
                                            </span>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    `}).join('');

    container.innerHTML = matchesHtml;
}

function displayError(message) {
    const container = document.getElementById('match-ratings-content');
    if (!container) return;

    container.innerHTML = `
        <div class="match-card" style="text-align: center; padding: 40px;">
            <h3 style="color: var(--rating-low); margin-bottom: 20px;">Beklager, noe gikk galt</h3>
            <p style="font-size: 16px; color: var(--text-color);">${message}</p>
            <p style="font-size: 14px; color: #666; margin-top: 20px;">
                Vennligst prøv igjen senere eller kontakt support hvis problemet vedvarer.
            </p>
        </div>
    `;
}

function displayEmptyState() {
    const container = document.getElementById('match-ratings-content');
    if (!container) return;

    container.innerHTML = `
        <div class="match-card" style="text-align: center; padding: 40px;">
            <h3 style="color: var(--primary-color); margin-bottom: 20px;">Venter på første børs!</h3>
            <p style="font-size: 16px; color: var(--text-color);">
                Strømsgodset - Rosenborg vil være tilgjengelig fra 19:00 29. mars 2025
            </p>
            <p style="font-size: 14px; color: #666; margin-top: 20px;">
                Kom tilbake senere for å se spillervurderingene!
            </p>
        </div>
    `;
}

// Initialize the display
async function init() {
    const data = await fetchMatchRatings();
    
    if (data.error) {
        displayError(data.error);
        return;
    }
    
    if (data.empty) {
        displayEmptyState();
        return;
    }
    
    createMatchSelector(data.items);
    // Show first match by default
    if (data.items && data.items.length > 0) {
        displayMatchRatings({ items: [data.items[0]] });
    }
}

// Run when the script loads
init();
</script> 