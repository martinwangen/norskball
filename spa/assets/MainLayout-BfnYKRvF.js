var mt=Object.defineProperty;var ht=(e,a,i)=>a in e?mt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[a]=i;var Oe=(e,a,i)=>ht(e,typeof a!="symbol"?a+"":a,i);import{l as te,h as D,g as ye,r as A,c as g,w as _,m as be,n as se,p as K,q as gt,t as we,u as Ke,v as Ze,x as bt,o as ze,Q as W,y as Z,z as he,a as et,A as ee,B as tt,C as yt,D as wt,E as re,G as Te,H as pt,I as Ie,J as Ve,K as St,L as He,M as $,N as $e,O as ue,P as Ct,d as kt,R as _t,S as Q,U as z,V as m,f as c,W as qt,X as L,Y as Fe,Z as De,_ as Bt,$ as J,a0 as Ot}from"./index-Cm6bZCtb.js";import{Q as Tt,a as Re,b as Ne,c as Dt,d as xt,e as Et}from"./QLayout-Dn4scEhT.js";import{u as at,v as At,a as Ge,b as ge,c as nt,d as Pt,p as je,e as It,f as Lt,g as zt,h as Mt,i as ot,j as Qt,k as Vt,r as We,s as Ht,l as Le,m as $t,Q as Ft,n as Rt,o as Nt}from"./use-prevent-scroll-BbUsLF7j.js";import{u as it,Q as Ue,a as j,b as E,c as xe}from"./QList-C25ZtbNJ.js";import{s as Gt,g as jt}from"./scroll-LBgmWIJC.js";import{Q as Wt}from"./QSeparator-DLr0b9gN.js";import{u as Ut,a as Xt}from"./use-dark-CkpHGi7m.js";import{b as me}from"./format-hlGAdIUH.js";import{C as Yt}from"./ClosePopup-DBJUmWnX.js";import{u as Jt}from"./use-quasar-BjZ55HgA.js";const Kt=te({name:"QSpace",setup(){const e=D("div",{class:"q-space"});return()=>e}}),Zt=te({name:"QTooltip",inheritAttrs:!1,props:{...Pt,...nt,...ge,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...ge.transitionShow,default:"jump-down"},transitionHide:{...ge.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ge},self:{type:String,default:"top middle",validator:Ge},offset:{type:Array,default:()=>[14,14],validator:At},scrollTarget:Gt,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...at],setup(e,{slots:a,emit:i,attrs:r}){let t,n;const u=ye(),{proxy:{$q:v}}=u,y=A(null),d=A(!1),l=g(()=>je(e.anchor,v.lang.rtl)),C=g(()=>je(e.self,v.lang.rtl)),s=g(()=>e.persistent!==!0),{registerTick:w,removeTick:h}=It(),{registerTimeout:B}=it(),{transitionProps:q,transitionStyle:S}=Lt(e),{localScrollTarget:f,changeScrollEvent:O,unconfigureScrollTarget:p}=zt(e,ce),{anchorEl:k,canShow:U,anchorEvents:X}=Mt({showing:d,configureAnchorEl:Y}),{show:pe,hide:F}=ot({showing:d,canShow:U,handleShow:R,handleHide:ae,hideOnRouteChange:s,processOnMount:!0});Object.assign(X,{delayShow:oe,delayHide:ie});const{showPortal:P,hidePortal:V,renderPortal:de}=Qt(u,y,Ce,"tooltip");if(v.platform.is.mobile===!0){const T={anchorEl:k,innerRef:y,onClickOutside(H){return F(H),H.target.classList.contains("q-dialog__backdrop")&&Ke(H),!0}},le=g(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);_(le,H=>{(H===!0?Vt:We)(T)}),be(()=>{We(T)})}function R(T){P(),w(()=>{n=new MutationObserver(()=>M()),n.observe(y.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),M(),ce()}),t===void 0&&(t=_(()=>v.screen.width+"|"+v.screen.height+"|"+e.self+"|"+e.anchor+"|"+v.lang.rtl,M)),B(()=>{P(!0),i("show",T)},e.transitionDuration)}function ae(T){h(),V(),ne(),B(()=>{V(!0),i("hide",T)},e.transitionDuration)}function ne(){n!==void 0&&(n.disconnect(),n=void 0),t!==void 0&&(t(),t=void 0),p(),se(X,"tooltipTemp")}function M(){Ht({targetEl:y.value,offset:e.offset,anchorEl:k.value,anchorOrigin:l.value,selfOrigin:C.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function oe(T){if(v.platform.is.mobile===!0){Le(),document.body.classList.add("non-selectable");const le=k.value,H=["touchmove","touchcancel","touchend","click"].map(fe=>[le,fe,"delayHide","passiveCapture"]);K(X,"tooltipTemp",H)}B(()=>{pe(T)},e.delay)}function ie(T){v.platform.is.mobile===!0&&(se(X,"tooltipTemp"),Le(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),B(()=>{F(T)},e.hideDelay)}function Y(){if(e.noParentEvent===!0||k.value===null)return;const T=v.platform.is.mobile===!0?[[k.value,"touchstart","delayShow","passive"]]:[[k.value,"mouseenter","delayShow","passive"],[k.value,"mouseleave","delayHide","passive"]];K(X,"anchor",T)}function ce(){if(k.value!==null||e.scrollTarget!==void 0){f.value=jt(k.value,e.scrollTarget);const T=e.noParentEvent===!0?M:F;O(f.value,T)}}function Se(){return d.value===!0?D("div",{...r,ref:y,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,S.value],role:"tooltip"},we(a.default)):null}function Ce(){return D(gt,q.value,Se)}return be(ne),Object.assign(u.proxy,{updatePosition:M}),de}}),ea=te({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const i=g(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(t=>e[t]===!0).map(t=>`q-btn-group--${t}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>D("div",{class:i.value},we(a.default))}}),ta=Object.keys(Ze);function aa(e){return ta.reduce((a,i)=>{const r=e[i];return r!==void 0&&(a[i]=r),a},{})}const na=te({name:"QBtnDropdown",props:{...Ze,...ge,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:i}){const{proxy:r}=ye(),t=A(e.modelValue),n=A(null),u=$t(),v=g(()=>{const p={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u.value,"aria-label":e.toggleAriaLabel||r.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(p["aria-disabled"]="true"),p}),y=g(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),d=g(()=>bt(e)),l=g(()=>aa(e));_(()=>e.modelValue,p=>{var k;(k=n.value)==null||k[p?"show":"hide"]()}),_(()=>e.split,O);function C(p){t.value=!0,i("beforeShow",p)}function s(p){i("show",p),i("update:modelValue",!0)}function w(p){t.value=!1,i("beforeHide",p)}function h(p){i("hide",p),i("update:modelValue",!1)}function B(p){i("click",p)}function q(p){he(p),O(),i("click",p)}function S(p){var k;(k=n.value)==null||k.toggle(p)}function f(p){var k;(k=n.value)==null||k.show(p)}function O(p){var k;(k=n.value)==null||k.hide(p)}return Object.assign(r,{show:f,hide:O,toggle:S}),ze(()=>{e.modelValue===!0&&f()}),()=>{const p=[D(W,{class:y.value,name:e.dropdownIcon||r.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&p.push(D(Ft,{ref:n,id:u.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:C,onShow:s,onBeforeHide:w,onHide:h},a.default)),e.split===!1?D(Z,{class:"q-btn-dropdown q-btn-dropdown--simple",...l.value,...v.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:B},{default:()=>we(a.label,[]).concat(p),loading:a.loading}):D(ea,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...d.value,glossy:e.glossy,stretch:e.stretch},()=>[D(Z,{class:"q-btn-dropdown--current",...l.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:q},{default:a.label,loading:a.loading}),D(Z,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...v.value,...d.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>p)])}}}),oa=te({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:a,emit:i}){const{proxy:{$q:r}}=ye(),t=et(tt,ee);if(t===ee)return console.error("QHeader needs to be child of QLayout"),ee;const n=A(parseInt(e.heightHint,10)),u=A(!0),v=g(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||r.platform.is.ios&&t.isContainer.value===!0),y=g(()=>{if(e.modelValue!==!0)return 0;if(v.value===!0)return u.value===!0?n.value:0;const f=n.value-t.scroll.value.position;return f>0?f:0}),d=g(()=>e.modelValue!==!0||v.value===!0&&u.value!==!0),l=g(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),C=g(()=>"q-header q-layout__section--marginal "+(v.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),s=g(()=>{const f=t.rows.value.top,O={};return f[0]==="l"&&t.left.space===!0&&(O[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),f[2]==="r"&&t.right.space===!0&&(O[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),O});function w(f,O){t.update("header",f,O)}function h(f,O){f.value!==O&&(f.value=O)}function B({height:f}){h(n,f),w("size",f)}function q(f){l.value===!0&&h(u,!0),i("focusin",f)}_(()=>e.modelValue,f=>{w("space",f),h(u,!0),t.animate()}),_(y,f=>{w("offset",f)}),_(()=>e.reveal,f=>{f===!1&&h(u,e.modelValue)}),_(u,f=>{t.animate(),i("reveal",f)}),_(t.scroll,f=>{e.reveal===!0&&h(u,f.direction==="up"||f.position<=e.revealOffset||f.position-f.inflectionPoint<100)});const S={};return t.instances.header=S,e.modelValue===!0&&w("size",n.value),w("space",e.modelValue),w("offset",y.value),be(()=>{t.instances.header===S&&(t.instances.header=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const f=yt(a.default,[]);return e.elevated===!0&&f.push(D("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),f.push(D(Tt,{debounce:0,onResize:B})),D("header",{class:C.value,style:s.value,onFocusin:q},f)}}}),Me={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},ia=Object.keys(Me);Me.all=!0;function Xe(e){const a={};for(const i of ia)e[i]===!0&&(a[i]=!0);return Object.keys(a).length===0?Me:(a.horizontal===!0?a.left=a.right=!0:a.left===!0&&a.right===!0&&(a.horizontal=!0),a.vertical===!0?a.up=a.down=!0:a.up===!0&&a.down===!0&&(a.vertical=!0),a.horizontal===!0&&a.vertical===!0&&(a.all=!0),a)}const la=["INPUT","TEXTAREA"];function Ye(e,a){return a.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof a.handler=="function"&&la.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(a.uid)===-1)}function Ee(e,a,i){const r=Ie(e);let t,n=r.left-a.event.x,u=r.top-a.event.y,v=Math.abs(n),y=Math.abs(u);const d=a.direction;d.horizontal===!0&&d.vertical!==!0?t=n<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?t=u<0?"up":"down":d.up===!0&&u<0?(t="up",v>y&&(d.left===!0&&n<0?t="left":d.right===!0&&n>0&&(t="right"))):d.down===!0&&u>0?(t="down",v>y&&(d.left===!0&&n<0?t="left":d.right===!0&&n>0&&(t="right"))):d.left===!0&&n<0?(t="left",v<y&&(d.up===!0&&u<0?t="up":d.down===!0&&u>0&&(t="down"))):d.right===!0&&n>0&&(t="right",v<y&&(d.up===!0&&u<0?t="up":d.down===!0&&u>0&&(t="down")));let l=!1;if(t===void 0&&i===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,l=!0,t==="left"||t==="right"?(r.left-=n,v=0,n=0):(r.top-=u,y=0,u=0)}return{synthetic:l,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:r,direction:t,isFirst:a.event.isFirst,isFinal:i===!0,duration:Date.now()-a.event.time,distance:{x:v,y},offset:{x:n,y:u},delta:{x:r.left-a.event.lastX,y:r.top-a.event.lastY}}}}let ra=0;const Ae=wt({name:"touch-pan",beforeMount(e,{value:a,modifiers:i}){if(i.mouse!==!0&&re.has.touch!==!0)return;function r(n,u){i.mouse===!0&&u===!0?Ke(n):(i.stop===!0&&he(n),i.prevent===!0&&Ve(n))}const t={uid:"qvtp_"+ra++,handler:a,modifiers:i,direction:Xe(i),noop:pt,mouseStart(n){Ye(n,t)&&St(n)&&(K(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(n,!0))},touchStart(n){if(Ye(n,t)){const u=n.target;K(t,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","passiveCapture"],[u,"touchend","end","passiveCapture"]]),t.start(n)}},start(n,u){if(re.is.firefox===!0&&Te(e,!0),t.lastEvt=n,u===!0||i.stop===!0){if(t.direction.all!==!0&&(u!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const d=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&Ve(d),n.cancelBubble===!0&&he(d),Object.assign(d,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[t.uid]:n.qClonedBy.concat(t.uid)}),t.initialEvent={target:n.target,event:d}}he(n)}const{left:v,top:y}=Ie(n);t.event={x:v,y,time:Date.now(),mouse:u===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:v,lastY:y}},move(n){if(t.event===void 0)return;const u=Ie(n),v=u.left-t.event.x,y=u.top-t.event.y;if(v===0&&y===0)return;t.lastEvt=n;const d=t.event.mouse===!0,l=()=>{r(n,d);let w;i.preserveCursor!==!0&&i.preservecursor!==!0&&(w=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Le(),t.styleCleanup=h=>{if(t.styleCleanup=void 0,w!==void 0&&(document.documentElement.style.cursor=w),document.body.classList.remove("non-selectable"),d===!0){const B=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{B(),h()},50):B()}else h!==void 0&&h()}};if(t.event.detected===!0){t.event.isFirst!==!0&&r(n,t.event.mouse);const{payload:w,synthetic:h}=Ee(n,t,!1);w!==void 0&&(t.handler(w)===!1?t.end(n):(t.styleCleanup===void 0&&t.event.isFirst===!0&&l(),t.event.lastX=w.position.left,t.event.lastY=w.position.top,t.event.lastDir=h===!0?void 0:w.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||d===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){l(),t.event.detected=!0,t.move(n);return}const C=Math.abs(v),s=Math.abs(y);C!==s&&(t.direction.horizontal===!0&&C>s||t.direction.vertical===!0&&C<s||t.direction.up===!0&&C<s&&y<0||t.direction.down===!0&&C<s&&y>0||t.direction.left===!0&&C>s&&v<0||t.direction.right===!0&&C>s&&v>0?(t.event.detected=!0,t.move(n)):t.end(n,!0))},end(n,u){var v;if(t.event!==void 0){if(se(t,"temp"),re.is.firefox===!0&&Te(e,!1),u===!0)(v=t.styleCleanup)==null||v.call(t),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Ee(n===void 0?t.lastEvt:n,t).payload);const{payload:y}=Ee(n===void 0?t.lastEvt:n,t,!0),d=()=>{t.handler(y)};t.styleCleanup!==void 0?t.styleCleanup(d):d()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,i.mouse===!0){const n=i.mouseCapture===!0||i.mousecapture===!0?"Capture":"";K(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}re.has.touch===!0&&K(t,"main",[[e,"touchstart","touchStart",`passive${i.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const i=e.__qtouchpan;i!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&i.end(),i.handler=a.value),i.direction=Xe(a.modifiers))},beforeUnmount(e){var i;const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),se(a,"main"),se(a,"temp"),re.is.firefox===!0&&Te(e,!1),(i=a.styleCleanup)==null||i.call(a),delete e.__qtouchpan)}}),Je=150,ua=te({name:"QDrawer",inheritAttrs:!1,props:{...nt,...Ut,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...at,"onLayout","miniState"],setup(e,{slots:a,emit:i,attrs:r}){const t=ye(),{proxy:{$q:n}}=t,u=Xt(e,n),{preventBodyScroll:v}=Nt(),{registerTimeout:y,removeTimeout:d}=it(),l=et(tt,ee);if(l===ee)return console.error("QDrawer needs to be child of QLayout"),ee;let C,s=null,w;const h=A(e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint),B=g(()=>e.mini===!0&&h.value!==!0),q=g(()=>B.value===!0?e.miniWidth:e.width),S=A(e.showIfAbove===!0&&h.value===!1?!0:e.modelValue===!0),f=g(()=>e.persistent!==!0&&(h.value===!0||ce.value===!0));function O(o,b){if(X(),o!==!1&&l.animate(),I(0),h.value===!0){const x=l.instances[M.value];(x==null?void 0:x.belowBreakpoint)===!0&&x.hide(!1),N(1),l.isContainer.value!==!0&&v(!0)}else N(0),o!==!1&&_e(!1);y(()=>{o!==!1&&_e(!0),b!==!0&&i("show",o)},Je)}function p(o,b){pe(),o!==!1&&l.animate(),N(0),I(V.value*q.value),qe(),b!==!0?y(()=>{i("hide",o)},Je):d()}const{show:k,hide:U}=ot({showing:S,hideOnRouteChange:f,handleShow:O,handleHide:p}),{addToHistory:X,removeFromHistory:pe}=Rt(S,U,f),F={belowBreakpoint:h,hide:U},P=g(()=>e.side==="right"),V=g(()=>(n.lang.rtl===!0?-1:1)*(P.value===!0?1:-1)),de=A(0),R=A(!1),ae=A(!1),ne=A(q.value*V.value),M=g(()=>P.value===!0?"left":"right"),oe=g(()=>S.value===!0&&h.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:q.value:0),ie=g(()=>e.overlay===!0||e.miniToOverlay===!0||l.view.value.indexOf(P.value?"R":"L")!==-1||n.platform.is.ios===!0&&l.isContainer.value===!0),Y=g(()=>e.overlay===!1&&S.value===!0&&h.value===!1),ce=g(()=>e.overlay===!0&&S.value===!0&&h.value===!1),Se=g(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&R.value===!1?" hidden":"")),Ce=g(()=>({backgroundColor:`rgba(0,0,0,${de.value*.4})`})),T=g(()=>P.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),le=g(()=>P.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),H=g(()=>{const o={};return l.header.space===!0&&T.value===!1&&(ie.value===!0?o.top=`${l.header.offset}px`:l.header.space===!0&&(o.top=`${l.header.size}px`)),l.footer.space===!0&&le.value===!1&&(ie.value===!0?o.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(o.bottom=`${l.footer.size}px`)),o}),fe=g(()=>{const o={width:`${q.value}px`,transform:`translateX(${ne.value}px)`};return h.value===!0?o:Object.assign(o,H.value)}),lt=g(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),rt=g(()=>`q-drawer q-drawer--${e.side}`+(ae.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(u.value===!0?" q-drawer--dark q-dark":"")+(R.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(h.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${B.value===!0?"mini":"standard"}`+(ie.value===!0||Y.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(T.value===!0?" q-drawer--top-padding":""))),ut=g(()=>{const o=n.lang.rtl===!0?e.side:M.value;return[[Ae,ft,void 0,{[o]:!0,mouse:!0}]]}),st=g(()=>{const o=n.lang.rtl===!0?M.value:e.side;return[[Ae,Qe,void 0,{[o]:!0,mouse:!0}]]}),dt=g(()=>{const o=n.lang.rtl===!0?M.value:e.side;return[[Ae,Qe,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function ke(){vt(h,e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint)}_(h,o=>{o===!0?(C=S.value,S.value===!0&&U(!1)):e.overlay===!1&&e.behavior!=="mobile"&&C!==!1&&(S.value===!0?(I(0),N(0),qe()):k(!1))}),_(()=>e.side,(o,b)=>{l.instances[b]===F&&(l.instances[b]=void 0,l[b].space=!1,l[b].offset=0),l.instances[o]=F,l[o].size=q.value,l[o].space=Y.value,l[o].offset=oe.value}),_(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&ke()}),_(()=>e.behavior+e.breakpoint,ke),_(l.isContainer,o=>{S.value===!0&&v(o!==!0),o===!0&&ke()}),_(l.scrollbarWidth,()=>{I(S.value===!0?0:void 0)}),_(oe,o=>{G("offset",o)}),_(Y,o=>{i("onLayout",o),G("space",o)}),_(P,()=>{I()}),_(q,o=>{I(),Be(e.miniToOverlay,o)}),_(()=>e.miniToOverlay,o=>{Be(o,q.value)}),_(()=>n.lang.rtl,()=>{I()}),_(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(ct(),l.animate())}),_(B,o=>{i("miniState",o)});function I(o){o===void 0?He(()=>{o=S.value===!0?0:q.value,I(V.value*o)}):(l.isContainer.value===!0&&P.value===!0&&(h.value===!0||Math.abs(o)===q.value)&&(o+=V.value*l.scrollbarWidth.value),ne.value=o)}function N(o){de.value=o}function _e(o){const b=o===!0?"remove":l.isContainer.value!==!0?"add":"";b!==""&&document.body.classList[b]("q-body--drawer-toggle")}function ct(){s!==null&&clearTimeout(s),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),ae.value=!0,s=setTimeout(()=>{var o,b;s=null,ae.value=!1,(b=(o=t==null?void 0:t.proxy)==null?void 0:o.$el)==null||b.classList.remove("q-drawer--mini-animate")},150)}function ft(o){if(S.value!==!1)return;const b=q.value,x=me(o.distance.x,0,b);if(o.isFinal===!0){x>=Math.min(75,b)===!0?k():(l.animate(),N(0),I(V.value*b)),R.value=!1;return}I((n.lang.rtl===!0?P.value!==!0:P.value)?Math.max(b-x,0):Math.min(0,x-b)),N(me(x/b,0,1)),o.isFirst===!0&&(R.value=!0)}function Qe(o){if(S.value!==!0)return;const b=q.value,x=o.direction===e.side,ve=(n.lang.rtl===!0?x!==!0:x)?me(o.distance.x,0,b):0;if(o.isFinal===!0){Math.abs(ve)<Math.min(75,b)===!0?(l.animate(),N(1),I(0)):U(),R.value=!1;return}I(V.value*ve),N(me(1-ve/b,0,1)),o.isFirst===!0&&(R.value=!0)}function qe(){v(!1),_e(!0)}function G(o,b){l.update(e.side,o,b)}function vt(o,b){o.value!==b&&(o.value=b)}function Be(o,b){G("size",o===!0?e.miniWidth:b)}return l.instances[e.side]=F,Be(e.miniToOverlay,q.value),G("space",Y.value),G("offset",oe.value),e.showIfAbove===!0&&e.modelValue!==!0&&S.value===!0&&e["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!0),ze(()=>{i("onLayout",Y.value),i("miniState",B.value),C=e.showIfAbove===!0;const o=()=>{(S.value===!0?O:p)(!1,!0)};if(l.totalWidth.value!==0){He(o);return}w=_(l.totalWidth,()=>{w(),w=void 0,S.value===!1&&e.showIfAbove===!0&&h.value===!1?k(!1):o()})}),be(()=>{w==null||w(),s!==null&&(clearTimeout(s),s=null),S.value===!0&&qe(),l.instances[e.side]===F&&(l.instances[e.side]=void 0,G("size",0),G("offset",0),G("space",!1))}),()=>{const o=[];h.value===!0&&(e.noSwipeOpen===!1&&o.push($(D("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ut.value)),o.push($e("div",{ref:"backdrop",class:Se.value,style:Ce.value,"aria-hidden":"true",onClick:U},void 0,"backdrop",e.noSwipeBackdrop!==!0&&S.value===!0,()=>dt.value)));const b=B.value===!0&&a.mini!==void 0,x=[D("div",{...r,key:""+b,class:[lt.value,r.class]},b===!0?a.mini():we(a.default))];return e.elevated===!0&&S.value===!0&&x.push(D("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push($e("aside",{ref:"content",class:rt.value,style:fe.value},x,"contentclose",e.noSwipeClose!==!0&&h.value===!0,()=>st.value)),D("div",{class:"q-drawer-container"},o)}}});class sa{constructor(){Oe(this,"initialized",!1);Oe(this,"clientId");this.clientId=void 0,this.clientId||console.error("Google Client ID is not configured. Please set VITE_GOOGLE_CLIENT_ID in your .env file")}async initializeGoogleSignIn(){if(!this.initialized){if(!this.clientId)throw new Error("Google Client ID is not configured. Please set VITE_GOOGLE_CLIENT_ID in your .env file");return new Promise((a,i)=>{const r=document.createElement("script");r.src="https://accounts.google.com/gsi/client",r.async=!0,r.defer=!0,r.onload=()=>{try{window.google.accounts.id.initialize({client_id:this.clientId,callback:this.handleCredentialResponse.bind(this),auto_select:!1,cancel_on_tap_outside:!0}),this.initialized=!0,a()}catch(t){console.error("Error initializing Google Sign-In:",t),i(new Error("Failed to initialize Google Sign-In. Please check your client ID and configuration."))}},r.onerror=()=>{console.error("Error loading Google Sign-In script"),i(new Error("Failed to load Google Sign-In script. Please check your internet connection."))},document.head.appendChild(r)})}}async handleCredentialResponse(a){if(a.credential){const i=ue();try{const r=JSON.parse(atob(a.credential.split(".")[1])),t={idToken:a.credential,email:r.email,name:r.name,picture:r.picture};await i.loginWithGoogle(t)}catch(r){throw console.error("Error handling Google credential:",r),r}}}decodeJwt(a){try{const r=a.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),t=decodeURIComponent(atob(r).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(i){throw console.error("Error decoding JWT:",i),i}}async signIn(){this.initialized||await this.initializeGoogleSignIn(),window.google.accounts.id.prompt()}async signOut(){const a=ue();window.google.accounts.id.disableAutoSelect(),a.logout(),await Ct.clearStore()}async checkAuth(){await ue().checkAuth()}isAuthenticated(){return ue().isAuthenticated}}const Pe=new sa,da={key:0,class:"row items-center"},ca={class:"text-caption"},_a=kt({__name:"MainLayout",setup(e){const a=Jt(),i=ue(),r=A(!1),t=A(!1),{user:n}=i;a.dark.toggle();const u=g(()=>a.dark.isActive);function v(){r.value=!r.value}function y(){a.dark.toggle()}async function d(){t.value=!0;try{await Pe.signIn()}catch(C){console.error("Failed to sign in:",C),a.notify({color:"negative",message:C instanceof Error?C.message:"Failed to sign in",position:"top",timeout:5e3})}finally{t.value=!1}}async function l(){await Pe.signOut()}return ze(async()=>{try{await Pe.initializeGoogleSignIn()}catch(C){console.error("Failed to initialize Google Sign-In:",C),a.notify({color:"negative",message:C instanceof Error?C.message:"Failed to initialize Google Sign-In",position:"top",timeout:5e3})}}),(C,s)=>{const w=_t("router-view");return z(),Q(Et,{view:"hHh lpR fFf",container:"",style:{height:"100vh"}},{default:m(()=>[c(oa,{class:"bg-primary text-white"},{default:m(()=>[c(Re,null,{default:m(()=>{var h;return[c(Z,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:v}),c(Ne,null,{default:m(()=>s[1]||(s[1]=[L(" Norskball ")])),_:1}),c(Kt),c(Z,{flat:"",round:"",icon:u.value?"dark_mode":"light_mode",onClick:y,"aria-label":u.value?"Switch to light mode":"Switch to dark mode"},{default:m(()=>[c(Zt,null,{default:m(()=>[L(Fe(u.value?"Switch to light mode":"Switch to dark mode"),1)]),_:1})]),_:1},8,["icon","aria-label"]),De(i).isAuthenticated?(z(),qt("div",da,[c(na,{flat:"",label:(h=De(n))==null?void 0:h.name},{default:m(()=>[c(Ue,null,{default:m(()=>[$((z(),Q(j,{clickable:"",onClick:l},{default:m(()=>[c(E,null,{default:m(()=>[c(xe,null,{default:m(()=>s[2]||(s[2]=[L("Logout")])),_:1})]),_:1})]),_:1})),[[Yt]])]),_:1})]),_:1},8,["label"])])):(z(),Q(Z,{key:1,flat:"",label:"Login",onClick:d,loading:t.value},null,8,["loading"]))]}),_:1})]),_:1}),c(ua,{modelValue:r.value,"onUpdate:modelValue":s[0]||(s[0]=h=>r.value=h),"show-if-above":"",width:200,breakpoint:500,bordered:""},{default:m(()=>[c(Ue,null,{default:m(()=>[c(xe,{header:"",class:"text-grey-8"},{default:m(()=>s[3]||(s[3]=[L(" Navigation ")])),_:1}),$((z(),Q(j,{clickable:"",to:"/",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"home"})]),_:1}),c(E,null,{default:m(()=>s[4]||(s[4]=[L(" Home ")])),_:1})]),_:1})),[[J]]),$((z(),Q(j,{clickable:"",to:"/teams",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"groups"})]),_:1}),c(E,null,{default:m(()=>s[5]||(s[5]=[L(" Teams ")])),_:1})]),_:1})),[[J]]),$((z(),Q(j,{clickable:"",to:"/players",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"sports"})]),_:1}),c(E,null,{default:m(()=>s[6]||(s[6]=[L(" Players ")])),_:1})]),_:1})),[[J]]),$((z(),Q(j,{clickable:"",to:"/matches",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"sports_soccer"})]),_:1}),c(E,null,{default:m(()=>s[7]||(s[7]=[L(" Matches ")])),_:1})]),_:1})),[[J]]),$((z(),Q(j,{clickable:"",to:"/statistics",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"analytics"})]),_:1}),c(E,null,{default:m(()=>s[8]||(s[8]=[L(" Statistics ")])),_:1})]),_:1})),[[J]]),De(i).isAuthenticated?$((z(),Q(j,{key:0,clickable:"",to:"/ratings",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"star"})]),_:1}),c(E,null,{default:m(()=>s[9]||(s[9]=[L(" Ratings ")])),_:1})]),_:1})),[[J]]):Bt("",!0),c(Wt),c(xe,{header:"",class:"text-grey-8"},{default:m(()=>s[10]||(s[10]=[L(" Leagues ")])),_:1}),$((z(),Q(j,{clickable:"",to:"/leagues/eliteserien",exact:""},{default:m(()=>[c(E,{avatar:""},{default:m(()=>[c(W,{name:"emoji_events"})]),_:1}),c(E,null,{default:m(()=>s[11]||(s[11]=[L(" Eliteserien ")])),_:1})]),_:1})),[[J]])]),_:1})]),_:1},8,["modelValue"]),c(Dt,null,{default:m(()=>[c(w)]),_:1}),c(xt,{elevated:"",class:"bg-grey-8 text-white"},{default:m(()=>[c(Re,null,{default:m(()=>[c(Ne,null,{default:m(()=>[Ot("div",ca," © "+Fe(new Date().getFullYear())+" Football Ratings App ",1)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{_a as default};
