import{d as C,a1 as T,r as p,c,S as N,U as l,V as t,a0 as r,W as m,Z as P,f as o,a2 as q,Y as u,_ as B,y as R,X as V,a3 as S}from"./index-Cm6bZCtb.js";import{Q as v}from"./QTd-B2b-7SvT.js";import{Q as I}from"./QCheckbox-DErdi7or.js";import{Q as M}from"./QTable-DI5yNRlB.js";import{Q as z}from"./QPage-BiUDp_G9.js";import{t as L}from"./teamService-CHfQ816M.js";import{_ as j}from"./_plugin-vue_export-helper-CxHgfykZ.js";import"./use-prevent-scroll-BbUsLF7j.js";import"./use-dark-CkpHGi7m.js";import"./QList-C25ZtbNJ.js";import"./scroll-LBgmWIJC.js";import"./private.use-form-Bt6FDSoW.js";import"./format-hlGAdIUH.js";import"./QSeparator-DLr0b9gN.js";const A={class:"q-pa-md"},D={key:0,class:"flex justify-center q-pa-xl"},E={key:1,class:"text-negative q-pa-md"},U={key:2},W={class:"row items-center"},X=["src","alt"],Y={key:0,class:"full-width text-center q-pa-sm"},Z=C({__name:"TeamsPage",setup($){const g=T(),s=p(!1),d=p(null),{teams:n,loading:_,refetch:h}=L.useTeams(16),w=c(()=>{var e;return((e=n.value)==null?void 0:e.teams.nodes)||[]}),f=c(()=>{var e;return((e=n.value)==null?void 0:e.teams.pageInfo.hasNextPage)||!1}),y=c(()=>{var e;return((e=n.value)==null?void 0:e.teams.totalCount)||0}),x=[{name:"team",label:"Team",field:"name",align:"left",sortable:!0},{name:"league",label:"League",field:"league",align:"left",sortable:!0}],b=async()=>{var e;if(!(!f.value||s.value)){s.value=!0;try{await h({first:20,after:(e=n.value)==null?void 0:e.teams.pageInfo.endCursor})}finally{s.value=!1}}},Q=e=>e>=7?"positive":e>=6?"warning":"negative",k=(e,i)=>{g.push(`/teams/${i.id}`)};return(e,i)=>(l(),N(z,{padding:""},{default:t(()=>[r("div",A,[i[0]||(i[0]=r("div",{class:"text-h4 q-mb-md"},"Teams",-1)),P(_)?(l(),m("div",D,[o(q,{color:"primary",size:"3em"})])):d.value?(l(),m("div",E,u(d.value),1)):(l(),m("div",U,[o(M,{rows:w.value,columns:x,loading:s.value,"row-key":"id",pagination:{rowsPerPage:16,rowsNumber:y.value},onRowClick:k},{"body-cell-team":t(a=>[o(v,{props:a},{default:t(()=>[r("div",W,[o(S,{hight:"32px",class:"q-mr-sm"},{default:t(()=>[r("img",{src:a.row.logo,alt:a.row.name},null,8,X)]),_:2},1024),r("div",null,u(a.row.name),1)])]),_:2},1032,["props"])]),"body-cell-avgRating":t(a=>[o(v,{props:a},{default:t(()=>[o(I,{color:Q(a.value),"text-color":"white",size:"sm"},{default:t(()=>[V(u(a.value),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),bottom:t(()=>[f.value?(l(),m("div",Y,[o(R,{color:"primary",label:"Load More",loading:s.value,onClick:b},null,8,["loading"])])):B("",!0)]),_:1},8,["rows","loading","pagination"])]))])]),_:1}))}}),ie=j(Z,[["__scopeId","data-v-4e4fc883"]]);export{ie as default};
